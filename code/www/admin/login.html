<!doctype html>
<html ng-app-spaceify spaceify-secure spaceify-is-login>
	<head body-directive>
		<!-- -->
		<meta charset="utf-8">
		<meta name="product" content="Spaceify">
		<meta name="author" content="Spaceify Oy">
		<meta name="description" content="Spaceify Edge User interface">
		<meta name="viewport" content="width=100%, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">

		<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo=">
		<link href="../css/spaceify.edge.css" rel="stylesheet" type="text/css">
		<!-- REMOTE >>>>>>>>>>
		<link sp_href="../css/spaceify.edge.css" rel="stylesheet" type="text/css">
		<<<<<<<<<< REMOTE -->

		<title ng-bind="$root.getString('title')">Loading...</title>
		<!-- -->

		<!-- -->
		<script src="../js/spaceify.edge.js"></script>
		<!-- REMOTE >>>>>>>>>>
		<script src="js/spaceify.loader.js"></script>
		<script sp_src="js/spaceify.edge.js"></script>
		<<<<<<<<<< REMOTE -->
		<!-- -->

		<script>
		function angularReady()
			{
			net = new SpaceifyNet();
			sam = new SpaceifyApplicationManager();

			$("#edgeBody").show();
			$("#password").val("").focus();

			$("#password").keyup(function(e)
				{
				if(e.which == "13")
					logIn();
				});
			}

		function logIn()
			{
			sam.logIn($("#password").val(), this, loggedIn);
			}

		function loggedIn(result)
			{
			if(result.isLoggedIn)
				window.location.assign(spaceifyPage.urlHttps + "appstore/index.html");
				/* REMOTE >>>>>>>>>>
				spaceifyLoader.loadPage(spaceifyPage.urlHttps + "appstore/index.html", spaceifyPage.urlHttps + "appstore/");
				<<<<<<<<<< REMOTE */
			}

		this.error = function(err)
			{
			$("#password").empty();
			net.showError(err[0] ? err[0].message : err.message);
			}

		</script>
	</head>

	<body class="edgeBody" id="edgeBody" ng-controller="bodyController" body-directive style="display: none;">

		<div class="adminLoginContainer" id="adminLoginContainer">

			<div class="adminLogo">
				<span class="adminLogoHelper"></span>
				<img src="../images/logotext.png" class="adminLogoImage" width="291" height="100"
					onclick="window.location.assign(spaceifyPage.urlHttp);">
				<!-- REMOTE >>>>>>>>>>
				<img sp_src="../images/logotext.png" class="adminLogoImage" width="291" height="100"
					onclick="spaceifyLoader.loadPage(spaceifyPage.urlHttp + "index.html", spaceifyPage.urlHttp);">
				<<<<<<<<<< REMOTE -->
			</div>

			<div class="adminLoginTitle">
				{{ getString("admin_login") }}
			</div>

			<div class="adminInputContainer">
				<input class="adminInput" style="width: 200px" type="password" name="password" id="password" placeholder="{{ getString('password') }}"/>
			</div>

			<div class="adminInputContainer">
				<button class="adminButton normal" name="operation" onclick="logIn();">
					{{ getString("login") }}
				</button>
			</div>

			<div class="breaker"></div>

		</div>
	</body>
</html>
