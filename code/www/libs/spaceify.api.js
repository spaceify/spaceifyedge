
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("fs"),require("path"),require("websocket"),require("adm-zip"),require("child_process"),require("http"),require("https"),require("mkdirp"),require("net"),require("os"),require("request"),require("url")):"function"==typeof define&&define.amd?define("spe",["fs","path","websocket","adm-zip","child_process","http","https","mkdirp","net","os","request","url"],n):"object"==typeof exports?exports.spe=n(require("fs"),require("path"),require("websocket"),require("adm-zip"),require("child_process"),require("http"),require("https"),require("mkdirp"),require("net"),require("os"),require("request"),require("url")):e.spe=n(e.fs,e.path,e.websocket,e["adm-zip"],e.child_process,e.http,e.https,e.mkdirp,e.net,e.os,e.request,e.url)}(this,function(__WEBPACK_EXTERNAL_MODULE_0__,__WEBPACK_EXTERNAL_MODULE_36__,__WEBPACK_EXTERNAL_MODULE_37__,__WEBPACK_EXTERNAL_MODULE_65__,__WEBPACK_EXTERNAL_MODULE_66__,__WEBPACK_EXTERNAL_MODULE_67__,__WEBPACK_EXTERNAL_MODULE_68__,__WEBPACK_EXTERNAL_MODULE_69__,__WEBPACK_EXTERNAL_MODULE_70__,__WEBPACK_EXTERNAL_MODULE_71__,__WEBPACK_EXTERNAL_MODULE_72__,__WEBPACK_EXTERNAL_MODULE_73__){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=74)}([function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_0__},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifyconfig":3};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=1},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=2},function(e,n,t){"use strict";(function(n){function o(){var e=this;e.initialize=function(o){var r,i,c,s="undefined"!=typeof o?o:"";if("webpack"==s||"undefined"==typeof window){i="webpack"==s?t(0).readFileSync(n+"/config.json","utf8"):t(0).readFileSync("/var/lib/spaceify/code/config.json","utf8"),c=JSON.parse(i);for(r in c)e[r]=c[r]}else for(r in window.speconfig)e[r]=window.speconfig[r];return"realpaths"==s&&e.makeRealApplicationPaths(),e},e.get=function(n){return n in e?e[n]:null},e.toMinifiedJSONString=function(){var n="",t="";for(var o in e)"function"!=typeof e[o]&&"object"!=typeof e[o]&&(t=e[o],"string"==typeof t&&(t=t.replace(/\\/g,"\\\\")),n+=(""!=n?",":"")+'"'+o+'":"'+t+'"');return"{"+n+"}"},e.makeRealApplicationPaths=function(){if("undefined"==typeof window){var n,r,i,c=process.cwd(),s=t(22),a=new s;e.API_PATH=e.SPACEIFY_CODE_PATH,e.API_WWW_PATH=e.SPACEIFY_WWW_PATH,e.API_NODE_MODULES_DIRECTORY=e.SPACEIFY_NODE_MODULES_PATH,r=c.split("/"),r[r.length-1]==e.APPLICATION_ROOT?(n=o(c),n&&(i=c.replace("/"+e.APPLICATION_ROOT,"/"),e.VOLUME_PATH=i,e.VOLUME_TLS_PATH=i+e.TLS_DIRECTORY,e.VOLUME_APPLICATION_PATH=i+e.APPLICATION_DIRECTORY,e.VOLUME_APPLICATION_WWW_PATH=i+e.APPLICATION_DIRECTORY+e.WWW_DIRECTORY)):(i=c+"/",n=o(c),n&&(e.VOLUME_PATH=i,e.VOLUME_APPLICATION_PATH=i,e.VOLUME_APPLICATION_WWW_PATH=i+e.WWW_DIRECTORY,e.VOLUME_TLS_PATH=a.getVolPath(n.type,n.unique_name,e)+e.VOLUME_TLS_PATH))}};var o=function(n){var o=null;try{o=t(0).readFileSync(n+"/"+e.MANIFEST,"utf8"),o=JSON.parse(o)}catch(e){}return o}}o.getConfig=function(e){var n=new o;return n.initialize(e)},e.exports=o}).call(n,"/")},function(module,exports,__webpack_require__){"use strict";(function(module){function Config(){var self=this,baseConfig=null,overridingConfig=null,config=null,path=null,doRequire=function(module){return eval("require")(module)},globalObj="undefined"==typeof window?global:window;if(globalObj.speBaseConfig_,baseConfig=globalObj.speBaseConfig_,"undefined"==typeof window){if(path=__webpack_require__(36),!baseConfig)try{var apipath="/var/lib/spaceify/code/";baseConfig=doRequire(path.resolve(apipath,"spebaseconfig.js"))}catch(e){baseConfig=__webpack_require__(8)}baseConfig||process.exit(1);try{overridingConfig=doRequire(module.parent.speconfig),Config.overrideConfigValues(baseConfig,overridingConfig)}catch(e){}finally{try{overridingConfig=doRequire("speconfig"),Config.overrideConfigValues(baseConfig,overridingConfig)}catch(e){}finally{try{overridingConfig=doRequire(path.resolve(process.cwd(),"speconfig.js")),Config.overrideConfigValues(baseConfig,overridingConfig)}catch(e){}finally{}}}}else if("undefined"!=typeof window){var lib=window;window.spe&&(lib=window.spe),baseConfig||(baseConfig=lib.SpeBaseConfig),lib.SpeConfig&&Config.overrideConfigValues(baseConfig,lib.SpeConfig),lib!==window&&window.SpConfig&&Config.overrideConfigValues(baseConfig,window.SpConfig)}globalObj.speBaseConfig_=baseConfig,self.getConfig=function(){return baseConfig}}Config.overrideConfigValues=function(e,n){for(var t in n)try{n[t].constructor==Object?e[t]=Config.overrideConfigValues(e[t],n[t]):e[t]=n[t]}catch(o){e[t]=n[t]}return e},Config.destroySingleton=function(){var e=null;e="undefined"==typeof window?global:window,e.speConfigInstance_=null},Config.getConfig=function(){var e=null;return e="undefined"==typeof window?global:window,e.speConfigInstance_||(e.speConfigInstance_=new Config,Object.freeze(e.speConfigInstance_)),e.speConfigInstance_.getConfig()},module.exports=Config}).call(exports,__webpack_require__(47)(module))},function(e,n,t){"use strict";function o(e,n){var t=this,o="undefined"==typeof window;t.RETURN=1;var r="log",i="dir",c="info";t.ERROR="error";var s=t.ERROR,a="warn";t.FORCE="force";var u=t.FORCE,l="stdout",f={};f[r]="[i] ",f[i]="[d] ",f[c]="[i] ",f[s]="[e] ",f[a]="[w] ",f[u]="",f[l]="";var d=!0,p=e?e:{};p[r]="undefined"==typeof p[r]||p[r],p[i]="undefined"==typeof p[i]||p[i],p[c]="undefined"==typeof p[c]||p[c],p[s]="undefined"==typeof p[s]||p[s],p[a]="undefined"==typeof p[a]||p[a],p[u]=!0,p[l]=!0,t.log=function(){g(r,!1,arguments)},t.dir=function(){g(i,!1,arguments)},t.info=function(){g(c,!1,arguments)},t.error=function(){g(s,!1,arguments)},t.warn=function(){g(a,!1,arguments)},t.force=function(){g(u,!1,arguments)},t.stdout=function(){g(l,!0,arguments)};var g=function(e,r){if(p[e]||e==u){for(var l="",g=t.convertArguments(arguments[2]),y=null,w=0;w<g.length;w++)y="string"==typeof g[w]?g[w]:JSON.stringify(g[w]),l+=(""!=l&&"\n"!=l&&"\r"!=l&&"\r\n"!=l?" ":"")+y;if(e==s&&(l+=(new Error).stack),l=l.replace(/[\x00-\x09\x0b-\x0c\x0e-\x1f]/g,""),!r&&d){var v=(new Date).toISOString().replace(/T/," ").replace(/\..+/,"");l=v+" "+f[e]+"["+n+"] "+l}o?r?process.stdout.write(l):console.log(l):e==i&&console.dir?console.dir(l):e==s&&console.error?console.error(l):e==c&&console.info?console.info(l):e==a&&console.warn?console.warn(l):console.log(l)}};t.setOptions=function(e){if("undefined"!=typeof e.enabled)for(var n in e.enabled)p[n]=e.enabled[n];"undefined"!=typeof e.showLabels&&(d=e.showLabels)},t.clone=function(e){var n=e.getEnabled();p[r]=n[r],p[i]=n[i],p[c]=n[c],p[s]=n[s],p[a]=n[a]},t.getEnabled=function(){return p},t.cloneInstanceToBaseConfiguration=function(){var e,t="undefined"==typeof window?global:window;if(t.speBaseConfig_&&t.speBaseConfig_.logger){e=t.speBaseConfig_.logger;for(var o in e)o!=n&&(e[o][r]=p[r],e[o][i]=p[i],e[o][c]=p[c],e[o][s]=p[s],e[o][a]=p[a])}},t.convertArguments=function(){var e;return e=0==Object.keys(arguments[0]).length?[""]:Array.prototype.slice.call(arguments[0])}}o.createLogger_=function(e){var n,r;if("undefined"==typeof window)try{r=t(4)}catch(e){var i="/var/lib/spaceify/code/";r=t(51)(i+"config.js")}else"undefined"!=typeof window&&(n=window.spe?window.spe:window,r=n.Config?n.Config:null);var c=r.getConfig(),s={};r.overrideConfigValues(s,c.logger.defaultLoggerConfig),c.logger.hasOwnProperty(e)&&r.overrideConfigValues(s,c.logger[e]),r.overrideConfigValues(s,c.logger.globalConfigOverride);var a="undefined"!=typeof s.all?s.all:null;return null!==a&&(s.log=a,s.dir=a,s.info=a,s.error=a,s.warn=a),new o(s,e)},o.getLogger=function(e){e||(e="mainlog");var n=null;return n="undefined"==typeof window?global:window,n.hasOwnProperty("speLoggerInstances_")||(n.speLoggerInstances_=new Object),n.speLoggerInstances_.hasOwnProperty(e)||(n.speLoggerInstances_[e]=o.createLogger_(e)),n.speLoggerInstances_[e]},e.exports=o},function(e,n,t){"use strict";function o(e){var n=this;n.path=e&&e.path?e.path:"",n.code=e&&e.code?e.code:"",n.message=e&&e.message?e.message:"";var t=", ",o=", ",r=" ";n.set=function(e){n.path=e.path||"",n.code=e.code||"",n.message=e.message||""},n.getAsObject=function(){return{code:n.code,codes:[n.code],message:n.message,messages:[n.message],path:n.path,paths:[n.path]}},n.getMessage=function(){return n.message},n.getCode=function(){return n.code},n.getPath=function(){return n.path},n.pre=function(e){n.path=e;var t=Array.prototype.slice.call(arguments);return t[0]=n.getAsObject(),n.make.apply(this,t)},n.preFmt=function(e,t){return n.path=e,n.makeFmt(n.getAsObject(),t)},n.make=function(){var e,n="",i=[],c="",s=[],a="",u=[];for(e=0;e<arguments.length;e++){var l=arguments[e];l.messages?(i=i.concat(l.paths),s=s.concat(l.codes),u=u.concat(l.messages)):(i.push(l.path?l.path:""),s.push(l.code?l.code:""),u.push(l.message?l.message:l.toString()))}for(e=0;e<u.length;e++)s[e]&&(c+=(""!=c?t:"")+s[e]),i[e]&&(n+=(""!=n?o:"")+i[e]),a+=(""!=a?r:"")+u[e];return{code:c,message:a,path:n,codes:s,paths:i,messages:u}},n.makeFmt=function(e,t){return e.message=n.replace(e.message,t),e.messages&&e.messages.length>0&&(e.messages[0]=e.message),n.make(e)},n.makeErrorObject=function(e,n,t){var o="undefined"!=typeof e?e:"",r="undefined"!=typeof t?t:"",i="undefined"!=typeof n?n:"";return{code:o,codes:[o],message:i,messages:[i],path:r,paths:[r]}},n.errorFromObject=function(e){return"string"==typeof e&&(e=JSON.parse(e)),n.make(n.makeErrorObject(e.code,e.message,e.path))},n.typeToErrorObject=function(e){return e?"string"==typeof e?e=n.makeErrorObject("",e,""):e.codes||e.messages||e.paths||(e=n.make(e)):e=n.makeErrorObject("###","###","###"),e},n.errorToString=function(e,t,o){var i="",c="",s="",a="";if("string"==typeof e)i+=e;else if(e.message&&!e.messages)i+=e.message;else if(e.pop)for(;e.length>0;)i+=(""!=i?r:"")+n.errorToString(e.shift());else if(e.messages)for(var u=0;u<e.messages.length;u++)c=o&&e.codes[u]?e.codes[u]:null,s=t&&e.paths[u]?e.paths[u]:null,a=n.ucfirst(e.messages[u]),a=n.endWithDot(a),i+=""!=i?" ":"",i+=s?s:"",i+=c?(s?" - ":"")+c:"",i+=(c||s?" ":"")+a;return i},n.replace=function(e,n,t){var o=t?t:"";for(var r in n)"undefined"!=typeof n[r]&&(e=e.replace(r,n[r]));return e=e.replace(/\s~[a-zA-Z0-9]*\s/g," "+o+" "),e=e.replace(/~[a-zA-Z0-9]*\s/g," "+o+" "),e=e.replace(/\s~[a-zA-Z0-9]*/g,o),e=e.replace(/~[a-zA-Z0-9]+/g,o)},n.ucfirst=function(e){return e=e.trim(),e.charAt(0).toUpperCase()+e.slice(1)},n.endWithDot=function(e){return e=e.trim(),"."!=e.charAt(e.length-1)&&(e+="."),e}}e.exports=o},function(e,n,t){"use strict";function o(e){var n=this,o="undefined"==typeof window,r=null,i=null;if(o){var c="/var/lib/spaceify/code/";try{r=t(5)}catch(e){r=t(53)(c+"logger")}try{i=t(6)}catch(e){i=t(12)(c+"spaceifyerror")}}else"undefined"!=typeof window&&(r=window.Logger?window.Logger:null,i=window.SpaceifyError?window.SpaceifyError:null);var s=new i,a=r.getLogger(e);n.log=function(){a.log.apply(n,a.convertArguments(arguments))},n.dir=function(){a.dir.apply(n,a.convertArguments(arguments))},n.info=function(){a.info.apply(n,a.convertArguments(arguments))},n.warn=function(){a.warnapply(n,a.convertArguments(arguments))},n.force=function(){a.force.apply(n,a.convertArguments(arguments))},n.stdout=function(){a.stdout.apply(n,a.convertArguments(arguments))},n.error=function(e,n,t,o){var r=s?s.errorToString(e,n,t):e;return o==a.ERROR?a.error(a.ERROR,!1,[r]):o==a.FORCE&&a.force(r),r},n.setOptions=function(e){a.setOptions(e)},n.clone=function(e){a.setOptions(e)},n.getEnabled=function(){return a.getEnabled()},n.cloneInstanceToBaseConfiguration=function(){a.cloneInstanceToBaseConfiguration()}}e.exports=o},function(e,n,t){"use strict";var o={logger:{loggerConfigOverride:{all:!0,myoverride:123,mydefault2:3},defaultLoggerConfig:{log:!0,dir:!0,info:!0,error:!0,warn:!0,all:!0,mydefault1:1,mydefault2:2},ApplicationManager:{log:!0,dir:!0,info:!0,error:!0,warn:!0},AppManService:{log:!0,dir:!0,info:!0,error:!0,warn:!0},BinaryRpcCommunicator:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Core:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Database:{log:!0,dir:!0,info:!0,error:!0,warn:!0},DHCPDLog:{log:!0,dir:!0,info:!0,error:!0,warn:!0},DockerContainer:{log:!0,dir:!0,info:!0,error:!0,warn:!0},DockerHelper:{log:!0,dir:!0,info:!0,error:!0,warn:!0},DockerImage:{log:!0,dir:!0,info:!0,error:!0,warn:!0},RegisterEdge:{log:!0,dir:!0,info:!0,error:!0,warn:!0},HttpService:{log:!1,dir:!1,info:!1,error:!0,warn:!1},Iptables:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Main:{log:!0,dir:!0,info:!0,error:!0,warn:!0},RuntimeManager:{log:!0,dir:!0,info:!0,error:!0,warn:!0},ServiceRegistry:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Manifest:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Messaging:{log:!0,dir:!0,info:!0,error:!0,warn:!0},PubSub:{log:!0,dir:!0,info:!0,error:!0,warn:!0},RpcCommunicator:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SecurityModel:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Service:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyApplication:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyApplicationManager:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyConfig:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyCore:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyError:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyMessages:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyNet:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyNetwork:{log:!0,dir:!0,info:!0,error:!0,warn:!0},ServiceInterface:{log:!0,dir:!0,info:!0,error:!0,warn:!0},ServiceSelector:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SpaceifyUtility:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Spacelet:{log:!0,dir:!0,info:!0,error:!0,warn:!0},SPM:{log:!1,dir:!1,info:!1,error:!1,warn:!1},ValidateApplication:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebOperation:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebRtcClient:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebRtcConnection:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebServer:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebSocketConnection:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebSocketRpcConnection:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebSocketRpcServer:{log:!0,dir:!0,info:!0,error:!0,warn:!0},WebSocketServer:{log:!0,dir:!0,info:!0,error:!0,warn:!0},Connection:{log:!0,dir:!0,info:!0,error:!0,warn:!0}},testValue:"TestValueFromBaseConfig"};e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null;n?(o="/var/lib/spaceify/code/",i=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),r=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),global.fs=t(0),global.WebSocket=t(37).w3cwebsocket):(o=window.spe?window.spe:window,i=o.SpaceifyLogger,r=o.SpaceifyError);var c=new r,s=new i("WebSocketConnection"),a="",u=null,l=null,f=null,d=null,p=null,g=!1,y=!1,w=null,v=null,h=null;e.connect=function(t,o){u=t.id||null,l=t.port||"",y=t.isSecure||!1;var r=t.caCrt||"",i=t.hostname||null,d=y?"wss":"ws";t.subprotocol||"json-rpc";try{a=d+"://"+i+(l?":"+l:"")+(u?"?id="+u:"");var p=n&&y?{tlsOptions:{ca:[fs.readFileSync(r,"utf8")]}}:null;f=new WebSocket(a,"json-rpc",null,null,null,p),f.binaryType="arraybuffer",f.onopen=function(){s.log("WebSocketConnection::onOpen() "+a),g=!0,o(null,!0)},f.onerror=function(e){s.error("WebSocketConnection::onError() "+a,!0,!0,s.ERROR),g=!1,o(c.makeErrorObject("wsc","Failed to open WebsocketConnection.","WebSocketConnection::connect"),null)},f.onclose=function(n,t){_(n,t,e)},f.onmessage=S}catch(e){o(e,null)}},e.setSocket=function(n){try{f=n,f.on("message",m),f.on("close",function(n,t){_(n,t,e)}),g=!0}catch(e){s.error(e,!0,!0,s.ERROR)}},e.setId=function(e){u=e},e.setPipedTo=function(e){p=e},e.setRemoteAddress=function(e){v=e},e.setRemotePort=function(e){w=e},e.setOrigin=function(e){d=e},e.setIsSecure=function(e){y=e},e.setEventListener=function(e){h=e},e.getId=function(){return u},e.getRemoteAddress=function(){return v},e.getRemotePort=function(){return w},e.getOrigin=function(){return d},e.getIsSecure=function(){return y},e.getPipedTo=function(){return p},e.getIsOpen=function(){return g},e.getPort=function(){return l};var m=function(n){try{h&&("utf8"==n.type&&h.onMessage(n.utf8Data,e),"binary"==n.type&&h.onMessage(n.binaryData,e))}catch(e){s.error(e,!0,!0,s.ERROR)}},S=function(n){try{h&&h.onMessage(n.data,e)}catch(e){s.error(e,!0,!0,s.ERROR)}},_=function(e,n,t){s.log("WebSocketConnection::onSocketClosed() "+a);try{g=!1,h&&h.onDisconnected(t.getId())}catch(e){s.error(e,!0,!0,s.ERROR)}};e.send=function(e){try{f.send(e)}catch(e){s.error(e,!0,!0,s.ERROR)}},e.sendBinary=e.send,e.close=function(){try{f.close()}catch(e){s.error(e,!0,!0,s.ERROR)}}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null,c=null,s=null;n?(o="/var/lib/spaceify/code/",r=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),i=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),c=t(13)(o+"rpccommunicator"),s=t(15)(o+"websocketconnection")):(o=window.spe?window.spe:window,r=o.SpaceifyError,i=o.SpaceifyUtility,c=o.RpcCommunicator,s=o.WebSocketConnection);var a=new r,u=(new i,new c),l=new s;e.connect=function(e,n){l.connect(e,function(e,t){e?n&&n(a.makeErrorObject("wsrpcc","Failed to open WebsocketRpcConnection.","WebSocketRpcConnection::connect"),null):(u.addConnection(l),n&&n(null,!0))})},e.close=function(){},e.getCommunicator=function(){return u},e.getConnection=function(){return l},e.getIsOpen=function(){return l.getIsOpen()},e.getIsSecure=function(){return l.getIsSecure()},e.getPort=function(){return l.getPort()},e.getId=function(){return l.getId()},e.connectionExists=function(e){return u.connectionExists(e)},e.exposeRpcMethod=function(e,n,t){u.exposeRpcMethod(e,n,t)},e.exposeRpcMethodSync=function(e,n,t){u.exposeRpcMethodSync(e,n,t)},e.callRpc=function(e,n,t,o){return u.callRpc(e,n,t,o,l.getId())},e.setConnectionListener=function(e){u.setConnectionListener(e)},e.setDisconnectionListener=function(e){u.setDisconnectionListener(e)}}e.exports=o},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=11},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifyerror":6};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=12},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./rpccommunicator":26};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=13},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=14},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./websocketconnection":9};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=15},function(e,n,t){"use strict";function o(e,n,t){var o=this,r=null,i=null,c=[],s=[];o.REQUIRED=0,o.PROVIDED=1;var a=function(n,t,r){for(var i=0;i<c.length;i++)c[i](n,e,o.getIsSecure())},u=function(n,t,r){for(var i=0;i<s.length;i++)s[i](n,e,o.getIsSecure())},l=function(n){r&&r(n,e,o.getIsSecure())},f=function(n){i&&f(n,e,o.getIsSecure())};o.setConnectionListener=function(e){"function"==typeof e&&c.push(e)},o.setDisconnectionListener=function(e){"function"==typeof e&&s.push(e)},o.setServerUpListener=function(e){r="function"==typeof e?e:null},o.setServerDownListener=function(e){i="function"==typeof e?e:null},o.getPort=function(){return t.getPort()},o.getIsOpen=function(){return t.getIsOpen()},o.getServiceName=function(){return e},o.getType=function(){return n?o.PROVIDED:o.REQUIRED},o.getId=function(){return t.getId()},o.getConnection=function(){return t},o.getIsSecure=function(){return t.getIsSecure()},o.getServiceName=function(){return e},o.connectionExists=function(e){return t.connectionExists(e)},o.callRpc=function(){t.callRpc.apply(this,arguments)},t.setConnectionListener(a),t.setDisconnectionListener(u),n&&(t.setServerUpListener(l),t.setServerDownListener(f))}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null,c=null,s=null,a=null,u=null,l=null,f=null,d=null;n?(o="/var/lib/spaceify/code/",i=t(54)(o+"service"),s=t(31)(o+"spaceifycore"),a=t(12)(o+"spaceifyerror"),u=t(1)(o+"spaceifyconfig"),l=t(57)(o+"spaceifynetwork"),f=t(56)(o+"serviceselector"),d=t(59)(o+"websocketrpcserver"),c=t(30)(o+"connection"),r=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()):(o=window.spe?window.spe:window,i=o.Service,s=o.SpaceifyCore,a=o.SpaceifyError,u=o.SpaceifyConfig,l=o.SpaceifyNetwork,f=o.ServiceSelector,d=null,c=o.Connection,r=function(e){return e});var p=new s,g=new a,y=new l,w=u.getConfig("realpaths"),v={},h={},m=!0,S=!0,_={},C=w.SPACEIFY_CODE_PATH+w.SPACEIFY_CRT_WWW,E=w.VOLUME_TLS_PATH+w.SERVER_KEY,R=w.VOLUME_TLS_PATH+w.SERVER_CRT,O=g.makeErrorObject("not_open","Connection is not ready.","ServiceInterface::connect");e.connect=function(e,t,o){"function"==typeof t?(o=t,t=!n&&y.isSecure()):t=n?t:y.isSecure(),b(e,t,o)};var b=function(e,n,t){var o,r="object"==typeof e?e.service_name:e;return r==w.HTTP?t(O,null):(v[r]||(v[r]=new f),o=v[r].getService(n),o||(o=new i(r,!1,new c),o.setConnectionListener(L),o.setDisconnectionListener(P),v[r].add(o,n)),void A(e,function(e,i){!i||e?(P(-1,r,n),"function"==typeof t&&t(O,null)):I(o,n?i.securePort:i.port,n,function(){"function"==typeof t&&t(null,o)})}))},A=function(e,n){"object"==typeof e?n(null,e):p.getService(e,"",function(e,t){n(e,t)})},I=function(e,n,t,o){return e.getIsOpen()?o():void e.getConnection().connect({hostname:w.EDGE_HOSTNAME,port:n,isSecure:t,caCrt:C},o)};e.disconnect=function(e,n){var t;e?service_name.constructor!==Array&&(t=[e]):t=Object.keys(v);for(var o=0;o<t.length;o++)v[t[o]].closeServiceConnection()};var L=function(e,n,t){},P=function(e,n,t){var o,r;S&&(o=n+(t?"T":"F"),o in _||(r=v[n].getService(t),r.getIsOpen()||(_[o]=setTimeout(T,w.RECONNECT_WAIT,e,n,t,o,r))))},T=function(e,n,t,o,r){A(n,function(i,c){delete _[o],c?I(r,t?c.securePort:c.port,t,function(){}):P(e,n,t)})};e.keepConnectionUp=function(e){S="boolean"==typeof e&&e},e.getRequiredService=function(e,n){return v[e]?v[e].getService(n):null},e.listen=r(function(e,n,t,o,r,c){var s;h[e]||(h[e]=new f,s=new i(e,!0,new d),h[e].add(s,!1),s=new i(e,!0,new d),h[e].add(s,!0)),r="undefined"==typeof r||r,c="undefined"==typeof c||c,r&&D.sync(e,t,!1),c&&D.sync(e,o,!0),t&&o||(r&&(t=h[e].getService(!1).getPort()),c&&(o=h[e].getService(!0).getPort()),console.log("    LISTEN -----> "+e+" - port: "+t+", secure port: "+o)),p.sync.registerService(e,{unique_name:n,port:t,securePort:o})});var D=r(function(e,n,t){var o=h[e].getService(t);o.getIsOpen()||o.getConnection().sync.listen({hostname:null,port:n,isSecure:t,key:E,crt:R,caCrt:C,keepUp:m})});e.close=function(e){var n;"undefined"==typeof service_names?n=Object.keys(h):"undefined"!=typeof service_names&&e.constructor!==Array&&(n=[service_names]);for(var t=0;t<n.length;t++)h[n[t]].closeServiceConnection()},e.getProvidedService=function(e,n){return h[e]?h[e].getService(n):null},e.keepServerUp=function(e){m="boolean"==typeof e&&e},e.getServiceById=function(e){var n,t,o;for(t=Object.keys(h),n=0;n<t.length;n++)if(o=h[t[n]].getServiceById(e))return o;for(t=Object.keys(v),n=0;n<t.length;n++)if(o=v[t[n]].getServiceById(e))return o;return null}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n=null,t=null;e.add=function(e,i){i?(t=e,t.exposeRpcMethod=o,t.exposeRpcMethodSync=r):(n=e,n.exposeRpcMethod=o,n.exposeRpcMethodSync=r)},e.getService=function(e){var o=null;return e===!1?o=n:e===!0?o=t:t?o=t:n&&(o=n),o},e.getServiceById=function(e){var o=null;return n&&n.connectionExists(e)?o=n:t&&t.connectionExists(e)&&(o=t),o},e.closeServiceConnection=function(e){e!==!1&&"undefined"!=typeof e||n&&n.getConnection().close(),e!==!0&&"undefined"!=typeof e||t&&t.getConnection().close()};var o=function(e,o,r){n&&n.getConnection().exposeRpcMethod(e,o,r),t&&t.getConnection().exposeRpcMethod(e,o,r)},r=function(e,o,r){n&&n.getConnection().exposeRpcMethodSync(e,o,r),t&&t.getConnection().exposeRpcMethodSync(e,o,r)}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=!(!n||"undefined"==typeof process.env.IS_REAL_SPACEIFY),r=null,i=null,c=null,s=null;n?(r="/var/lib/spaceify/code/",i=t(30)(r+"connection"),c=t(1)(r+"spaceifyconfig"),s=function(){}):(r=window.spe?window.spe:window,i=r.Connection,c=r.SpaceifyConfig,s=r.SpaceifyNetwork);var a=new i,u=new s,l=c.getConfig(),f=[];e.startSpacelet=function(e,n){d("startSpacelet",[e],function(e,t,o,r){if(e)n(e,null);else{for(var i=[],c=0;c<t.length;c++)i.push(t[c].service_name);n(null,{services:t,serviceNames:i},o,r)}})},e.registerService=function(e,n,t){d("registerService",[e,n],t)},e.unregisterService=function(e,n,t){d("unregisterService",[e,n],t)},e.getService=function(e,n,t){d("getService",[e,n],t)},e.getServices=function(e,n){d("getServices",[e],n)},e.getOpenServices=function(e,n,t){d("getOpenServices",[e,n],t)},e.getManifest=function(e,n){var t=y()?g().getManifest(e):null;t?n(null,t,-1,0):d("getManifest",[e,!0,!1],function(t,o,r,i){!t&&y()&&g().setManifest(e,o),n(t,o,r,i)})},e.isAdminLoggedIn=function(e){u.doOperation({type:"isAdminLoggedIn"},function(n,t,o,r){e(n?n:null,!n&&t,o,r)})},e.getApplicationStatus=function(e,n){d("getApplicationStatus",[e],n)},e.isApplicationRunning=function(e,n){d("isApplicationRunning",[e],n)},e.getRuntimeServiceStates=function(e,n){d("getRuntimeServiceStates",[e],n)},e.getApplicationData=function(e){var n;d("getApplicationData",[],function(t,o,r,i){if(!t&&y()){for(n=0;n<o.spacelet.length;n++)g().setApplication(o.spacelet[n]);for(n=0;n<o.sandboxed.length;n++)g().setApplication(o.sandboxed[n]);for(n=0;n<o.sandboxed_debian.length;n++)g().setApplication(o.sandboxed_debian[n]);for(n=0;n<o.native_debian.length;n++)g().setApplication(o.native_debian[n])}e(t,o,r,i)})},e.getApplicationURL=function(e,n){d("getApplicationURL",[e],n)},e.setSplashAccepted=function(e){d("setSplashAccepted",[],e)},e.setEventListeners=function(e,n,t,o,r){d("setEventListeners",[e],function(o,i,c,s){if(!o)for(var u=0;u<e.length;u++)a.exposeRpcMethod(e[u],t,n[u]);r(o,i,c,s)})};var d=function(e,t,r){var i,c,s,d,g;a.isConnecting()?f.push({method:e,params:t,callback:r}):a.isConnected()?(f.push({method:e,params:t,callback:r}),p()):(f.push({method:e,params:t,callback:r}),c=!!n||u.isSecure(),s=c?l.CORE_PORT_SECURE:l.CORE_PORT,g=n?l.SPACEIFY_CODE_PATH+l.SPACEIFY_CRT_WWW:"",d=n?o?l.EDGE_IP:l.CONNECTION_HOSTNAME:u.getEdgeURL({protocol:""}),a.connect({hostname:d,port:s,isSecure:c,caCrt:g},function(e,n){if(e)for(;"undefined"!=typeof(i=f.shift());)i.callback(e,null,-1,0);else p()}))},p=function(){var n=f.shift();"undefined"!=typeof n&&a.callRpc(n.method,n.params,e,function(){n.callback.apply(this,arguments),p()})};e.close=function(){a.close()};var g=function(){return!n&&window&&window.spaceifyCache?window.spaceifyCache:null},y=function(){var e=g();return"undefined"!=e&&null!=e}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this;e.processDocument=function(e,n,o){var r,i,c,s,a,u,l,f;if(r=document.getElementById(e)){r=r.querySelectorAll("["+n+"]");for(var d=0;d<r.length;++d){i=r[d],s=i.getAttribute(n).split(":"),c="",l="";for(var p=0;p<s.length;p++)a=s[p],(u=a.indexOf(">"))!=-1&&(l=a.substr(0,u),a=a.replace(l+">","")),a.indexOf(".")==-1?c+=a:(a=a.split("."),c+=window.spelocales[t][a[0]][a[1]]);if(""==l){for(;i.firstChild;)i.removeChild(i.firstChild);f=document.createTextNode(c),i.appendChild(f)}else i[l]=c}if(o)for(s in o)a=o[s],document[s]=window.spelocales[t][a.section][a.index]}},e.getString=function(e,n){return window.spelocales[t][e][n]},e.setLocale=function(e){t=t};var n=function(e){for(var n=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var r=t[o];" "==r.charAt(0);)r=r.substring(1);if(r.indexOf(n)!=-1)return r.substring(n.length,r.length)}return""},t=n("locale")||"en_US"}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null,c=null;n?(o="/var/lib/spaceify/code/",r=t(12)(o+"spaceifyerror"),i=t(1)(o+"spaceifyconfig"),c=t(33)(o+"spaceifyutility")):(o=window.spe?window.spe:window,r=o.SpaceifyError,i=o.SpaceifyConfig,c=o.SpaceifyUtility);var s=new r,a=new c,u=i.getConfig(),l=new RegExp(u.EDGE_DOMAIN.replace(".","\\.")+"$","i");e.getEdgeURL=function(n){var t={};t.protocol="undefined"!=typeof n.protocol?n.protocol:null,t.withEndSlash="undefined"!=typeof n.withEndSlash&&n.withEndSlash;var o=e.getProtocol(!0,t.protocol),r=u.EDGE_HOSTNAME;return"undefined"!=typeof window&&null!==window.location.hostname.match(l)&&(r=window.location.hostname),o+r+(t.withEndSlash?"/":"")},e.externalResourceURL=function(n,t){return e.getEdgeURL(t)+n+"/"},e.getPort=function(n,t,o){return e.isSecure()||o?t:n},e.isSecure=function(){var n=e.getProtocol(!1,null);return"http:"!=n},e.getProtocol=function(e,n){var t,o,r;return""===n?r="":"undefined"==typeof window?r=null===n?"":n:(r=null!==n?n:location.protocol,"blob:"==r&&(window.parent?(t=""+window.parent.location,t=t.replace(/^blob:/,""),r=null!==(o=t.match(/^http.?:/))?o[0]:"http:"):r="http:")),""==r||r.match(/:$/)||(r+=":"),r+(""!=r&&e?"//":"")},e.parseQuery=function(e){var n,t,o,r={};if(e=decodeURIComponent(e),e=e.replace(/#.*$/,""),n=e.split("?"),1==n.length&&"?"!=e.charAt(0))return r;n=n.length<2?n[0]:n[1],o=n.split("&");for(var i=0,c=o.length;i<c;i++)o[i]&&(t=o[i].split("="),r[t[0]]=2==t.length?t[1]:null);return r},e.remakeQueryString=function(e,n,t,o,r){var i,c,s,a="";for(i=0;i<n.length;i++)n[i]in e&&delete e[n[i]];for(i in t)e[i]=t[i];for(i in e)r?(s=decodeURIComponent(e[i]),s=encodeURIComponent(s)):s=e[i],a+=(""!=a?"&":"")+i+"="+s;return o?(o=decodeURIComponent(o),(c=o.match(/(?:#.*)/,""))&&(c=c[0]),o=o.replace(/\?.*$/,"")):(c="",o=""),o=o+(a?"?"+a:"")+(c?c:"")},e.parseURL=function(e){for(var n={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=n.parser[n.strictMode?"strict":"loose"].exec(e),o={},r=14;r--;)o[n.key[r]]=t[r]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(o[n.q.name][t]=r)}),o},e.isPortInUse=function(e,n){if(!e)return n(null,!1);var o=t(70),r=o.createServer();r.once("error",function(e){n("EADDRINUSE"!=e.code?e:null,!0)}),r.once("listening",function(){r.once("close",function(){n(null,!1)}),r.close()}),r.listen(e)},e.GET=function(e,n,t){var o=Date.now(),r=a.randomString(16,!0),i=f();i.onreadystatechange=function(){d(i,r,o,n)},i.open("GET",e,!0),i.responseType=t?t:"",i.send()},e.POST_FORM=function(e,n,t,o){
if("undefined"!=typeof spaceifyLoader)spaceifyLoader.postData(e,n,t,o);else{for(var r="---------------------------"+Date.now().toString(16),i="",c=0;c<n.length;c++)i+="\r\n--"+r+"\r\n",i+=n[c].content,i+="\r\n\r\n"+n[c].data+"\r\n";i+="\r\n--"+r+"--";var s=f();s.open("POST",e,!0),s.responseType=t?t:"text",s.setRequestHeader("Content-Type","multipart/form-data; boundary="+r),s.onreadystatechange=function(){d(s,a.randomString(16,!0),Date.now(),o)},s.send(i)}},e.doOperation=function(n,t){var o,r,i,c,a=null;try{i="Content-Disposition: form-data; name=operation;\r\nContent-Type: application/json; charset=utf-8",c=e.getEdgeURL({withEndSlash:!0})+u.OPERATION_FILE,e.POST_FORM(c,[{content:i,data:JSON.stringify(n)}],"json",function(e,n,i,c){try{"string"!=typeof n&&(n=JSON.stringify(n)),n=n.replace(/&quot;/g,'"'),n=n.replace(/\\|^"|"$/g,""),r=JSON.parse(n)}catch(e){r={err:s.makeErrorObject("doOperation1","Invalid JSON received.","SpaceifyNetwork::doOperation")}}r?r.err?(o=r.data,a=r.err):r.error?(o=r.data,a=r.error):(o=r.data,a=null):(o=null,a=s.makeErrorObject("doOperation2","Response is null.","SpaceifyNetwork::doOperation")),t(a,o,i,c)})}catch(e){t(e,null)}};var f=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},d=function(e,n,t,o){4==e.readyState&&o(200!=e.status?e.status:null,200==e.status?e.response:null,n,Date.now()-t)};e.setCookie=function(e,n,t){var o="";if(t){var r=Date.now()+1e3*t,i=new Date(r);o="expires="+i.toGMTString()}document.cookie=e+"="+n+(""!=o?"; "+o:"")},e.getCookie=function(e){for(var n=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var r=t[o];" "==r.charAt(0);)r=r.substring(1);if(r.indexOf(n)!=-1)return r.substring(n.length,r.length)}return""},e.deleteCookie=function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}e.exports=o},function(e,n,t){function o(){var e=this;e.getUniqueDirectory=function(e,n){return e=e.toLowerCase(),e=e.replace(/[^a-z0-9\/_]/g,"/"),e=e.replace(/^\/+/,""),e+=e.search(/\/$/)!=-1?"":"/",n&&(e=e.replace(/\/$/,"")),e},e.getSystemctlServiceName=function(e){return e.replace(/_\//g,"")+".service"},e.getBasePath=function(e,n,t){return t.APP_TYPE_PATHS[e]},e.getAppPath=function(n,t,o){return o.APP_TYPE_PATHS[n]+e.getUniqueDirectory(t)+o.VOLUME_DIRECTORY+o.APPLICATION_DIRECTORY},e.getVolPath=function(n,t,o){return o.APP_TYPE_PATHS[n]+e.getUniqueDirectory(t)+o.VOLUME_DIRECTORY},e.getWwwPath=function(n,t,o){return e.getAppPath(n,t,o)+o.WWW_DIRECTORY}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null,c=null,s=null;n?(o="/var/lib/spaceify/code/",r=t(52)(o+"language"),i=t(1)(o+"spaceifyconfig"),c=t(32)(o+"spaceifylogger"),s=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),global.os=t(71),global.fs=t(0),global.path=t(36),global.mkdirp=t(69),global.AdmZip=t(65),global.request=t(72),global.spawn=t(66).spawn):(o=window.spe?window.spe:window,r={},i=o.SpaceifyConfig,c=o.SpaceifyLogger,s=function(e){return e});var a=i.getConfig(),u=r,l=new c("SpaceifyUtility");e.loadRemoteFile=s(function(e){var n;try{n=request.sync.get(e,{encoding:null,rejectUnauthorized:!1,agent:!1})}catch(e){throw u.E_LOAD_REMOTE_FILE_FAILED_TO_INITIATE_HTTP_GET.pre("SpaceifyUtility::loadRemoteFile",e)}if(200!=n.statusCode)throw u.E_LOAD_REMOTE_FILE_FAILED_TO_LOAD_REMOTE_FILE.preFmt("SpaceifyUtility::loadRemoteFile",{"~file":e,"~code":n.statusCode});return n}),e.loadRemoteFileToLocalFile=s(function(n,t,o,r){try{var i=e.sync.loadRemoteFile(n);return 200==i.statusCode&&e.sync.writeFile(t,o,i.body),!0}catch(e){if(r)throw u.E_LOAD_REMOTE_FILE_TO_LOCAL_FILE_FAILED.pre("SpaceifyUtility::loadRemoteFileToLocalFile",e)}return!1}),e.isFile=function(n,t){e.isLocal(n,"file",t)},e.isDirectory=function(n,t){e.isLocal(n,"directory",t)},e.isLocal=function(e,n,t){try{var o=fs.sync.stat(e);o&&"file"==n&&o.isFile()?t(null,!0):o&&"directory"==n&&o.isDirectory()?t(null,!0):t(null,!1)}catch(e){t(null,!1)}},e.getPathType=function(e,n){try{var t=fs.stat(e,function(e,o){t&&t.isFile()?n(null,"file"):t&&t.isDirectory()?n(null,"directory"):n(null,"undefined")})}catch(e){n(null,"undefined")}},e.deleteDirectory=s(function(n,t){try{var o=fs.sync.stat(n);"undefined"!=typeof o&&o.isDirectory()&&(fs.sync.readdir(n).forEach(function(o,r){var i=n+"/"+o;fs.sync.stat(i).isDirectory()?e.sync.deleteDirectory(i,t):fs.sync.unlink(i)}),fs.sync.rmdir(n))}catch(e){if(t)throw u.E_DELETE_DIRECTORY_FAILED.pre("SpaceifyUtility::deleteDirectory",e)}}),e.copyDirectory=s(function(n,t,o,r){try{n+=n.search(/\/$/)!=-1?"":"/",t+=t.search(/\/$/)!=-1?"":"/";var i=fs.sync.stat(n);if("undefined"==typeof i||!i.isDirectory()||r.indexOf(n)!=-1)return;var c=parseInt("0"+(511&i.mode).toString(8),8);mkdirp.sync(t,c),fs.sync.readdir(n).forEach(function(s,a){var u=n+s,l=t+s;if(i=fs.sync.stat(u),i.isDirectory())e.sync.copyDirectory(u+"/",l+"/",o,r);else{c=parseInt("0"+(511&i.mode).toString(8),8);var f=fs.createReadStream(u,{autoClose:!0}),d=fs.createWriteStream(l,{mode:c});f.pipe(d)}})}catch(e){if(o)throw u.E_COPY_DIRECTORY_FAILED.pre("SpaceifyUtility::copyDirectory",e)}}),e.moveDirectory=s(function(n,t,o){try{e.sync.copyDirectory(n,t,!0,[]),e.sync.deleteDirectory(n,!0)}catch(e){if(o)throw u.E_MOVE_DIRECTORY_FAILED.pre("SpaceifyUtility::moveDirectory",e)}}),e.deleteFile=s(function(e,n){try{var t=fs.sync.stat(e);"undefined"==typeof t||t.isDirectory()||fs.sync.unlink(e)}catch(e){if(n)throw u.E_DELETE_FILE_FAILED.pre("SpaceifyUtility::deleteFile",e)}}),e.copyFile=s(function(e,n,t){try{var o=fs.sync.stat(e);if("undefined"!=typeof o&&!o.isDirectory()){var r=parseInt("0"+(511&o.mode).toString(8),8),i=fs.createReadStream(e,{autoClose:!0}),c=fs.createWriteStream(n,{mode:r});i.pipe(c)}}catch(e){if(t)throw u.E_COPY_FILE_FAILED.pre("SpaceifyUtility::copyFile",e)}}),e.moveFile=s(function(n,t,o){try{e.sync.copyFile(n,t,!0),e.sync.deleteFile(n,!0)}catch(e){if(o)throw u.E_MOVE_FILE_FAILED.pre("SpaceifyUtility::moveFile",e)}}),e.zipDirectory=s(function(n,t){n+=""!=n&&n.search(/\/$/)==-1?"/":"";try{e.execute.sync("zip",["-r","-q",t,".","-i","*"],{cwd:n},null)}catch(e){throw u.E_ZIP_DIRECTORY_FAILED.pre("SpaceifyUtility::zipDirectory",e)}}),e.getFileFromZip=function(n,t,o,r){var i=new RegExp(t+"$","i"),c=new AdmZip(n),s=c.getEntries();for(var a in s)if(s[a].entryName.search(i)!=-1)return o&&c.extractAllTo(o,!0),c.readAsText(s[a].entryName);return r&&e.sync.deleteFile(n),null},e.unZip=function(n,t,o){var r=new AdmZip(n);return r.extractAllTo(t,!0),o&&e.sync.deleteFile(n),!0},e.writeFile=s(function(e,n,t){mkdirp.sync(e),fs.sync.writeFile(e+n,t)}),e.preparePath=function(e){return e+(e.match(/^$/)||e.match(/\/$/)?"":"/")},e.postPublish=function(e,n,t,o,r){l.force(u.PACKAGE_POSTING),request({url:a.REGISTRY_PUBLISH_URL,headers:{"content-type":"multipart/form-data"},method:"POST",multipart:[{"Content-Disposition":'form-data; name="username"',body:n},{"Content-Disposition":'form-data; name="password"',body:t},{"Content-Disposition":'form-data; name="release"',body:o},{"Content-Disposition":'form-data; name="package"; filename="'+a.PUBLISH_ZIP+'"',"Content-Type":"application/zip",body:fs.readFileSync(e)}]},function(e,n,t){r(e?e:null,e?null:200!=n.statusCode?n.statusCode:t)})},e.postRegister=function(e,n,t,o){request.post({url:a.EDGE_REGISTER_URL,headers:{"content-type":"multipart/form-data"},multipart:[{"Content-Disposition":'form-data; name="edge_id"',body:e},{"Content-Disposition":'form-data; name="edge_name"',body:n},{"Content-Disposition":'form-data; name="edge_password"',body:t}]},function(e,n,t){o(e?e:null,e?null:200!=n.statusCode?n.statusCode:t)})};e.parseURLFromURLObject=function(e,n,t,o){return e.hostname=n+(o?":"+o:""),e.protocol=t,e.format(e)},e.parseMultiPartData=function(n,t,o){var r,i,c,s,a,u,l={},f={};try{if(e.parseMultipartLine(n,l),!(r=l.boundary))throw"";for(i="--"+r,c="--"+r+"--",t=t.split("\r\n"),t.shift();t.length>0;){for(a=0,u={body:""},s=t.shift();t.length>0&&s!=i&&s!=c;)""==s?a++:0==a?e.parseMultipartLine(s,u):u.body+=s,s=t.shift();u.name&&(f[u.name]=u)}}catch(e){if(o)throw e}return f},e.parseMultipartLine=function(e,n){for(var t=e.split(";"),o=0;o<t.length;o++)if(t[o]){var r=t[o].match(/[:=]/);if(r){var i=t[o].substr(0,r.index),c=t[o].substr(r.index+1);n[i.trim().toLowerCase()]=c.trim()}else n[t[o].trim()]=""}},e.loadJSON=s(function(n,t,o){var r=null;try{r=fs.sync.readFile(n,{encoding:"utf8"}),t&&(r=e.parseJSON(r,o))}catch(e){if(r=null,o)throw u.E_LOAD_JSON_FAILED.pre("SpaceifyUtility::loadJSON",e)}return r}),e.saveJSON=s(function(e,n,t){var o=!1;try{var r=JSON.stringify(n,null,2);fs.sync.writeFile(e,r,{encoding:"utf8"}),o=!0}catch(e){if(t)throw u.E_SAVE_JSON_FAILED.pre("SpaceifyUtility::saveJSON",e)}return o}),e.parseJSON=function(t,o){var r;try{r=JSON.parse(t)}catch(t){if(o)throw n?u.E_PARSE_JSON_FAILED.pre("SpaceifyUtility::parseJSON",t):e.makeErrorObject("JSON","Failed to parse JSON.","SpaceifyUtility::parseJSON")}return r},e.replaces=function(e,n){for(var t=n.length-1;t>=0;t--){var o=new RegExp("%"+t,"g");e=e.replace(o,"undefined"==typeof n[t]?"?":n[t])}return e},e.replace=function(e,n,t){var o,r=t?t:"";for(o in n)"undefined"!=typeof n[o]&&(e=e.replace(o,n[o]));return e=e.replace(/\s~[a-zA-Z0-9]*\s/g," "+r+" "),e=e.replace(/~[a-zA-Z0-9]+\s/g," "+r+" "),e=e.replace(/\s~[a-zA-Z0-9]+/g,r),e=e.replace(/~[a-zA-Z0-9]+/g,r)},e.execute=function(e,n,t,o,r){var i=!1,c="",s="",a=spawn(e,n,t);a.stdout.on("data",function(e){o&&o(!1,e),c+=e}),a.stderr.on("data",function(e){o&&o(!0,e),s+=e}),a.on("error",function(e){i||(r(e,null),i=!0)}),a.on("close",function(e){i||(r(null,{code:e,signal:null,stdout:c,stderr:s}),i=!0)}),a.on("exit",function(e,n){i||(r(null,{code:e,signal:n,stdout:c,stderr:s}),i=!0)})},e.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.randomString=function(e,n){var t,o="";o=n?"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789":"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!�$#%&/(){}[]<>|��=+?*,.;:-_";var r="";for(t=e;t>0;--t)r+=o[Math.round(Math.random()*(o.length-1))];return r},e.generateRandomConnectionId=function(e){for(var n;;)if(n=Math.floor(4294967296*Math.random()),!e.hasOwnProperty(n))break;return n},e.bytesToHexString=function(e){for(var n=[],t=0;t<e.length;t++)n.push((e[t]>>>4).toString(16)),n.push((15&e[t]).toString(16));return n.join("")},e.getLocalDateTime=function(){var e;return e=new Date,e=e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)},e.isObjectEmpty=function(e){return"object"!=typeof e||0==Object.keys(e).length},e.assoc=function(e,n,t){return n in e?e[n]=[t]:e[key].push(t),e},e.toBuffer=function(e){return e instanceof Buffer?e:e instanceof Array||e instanceof Object?new Buffer(JSON.stringify(e),"utf8"):"string"==typeof e?new Buffer(e,"utf8"):new Buffer(e.toString(),"utf8")},e.getApplicationIcon=function(e,n){var t=null;if(e&&e.images)for(var o=0;o<e.images.length;o++)if(e.images[o].file.search(!0)){t=(n?"/":"")+"images/"+("directory"in e.images[o]?e.images[o].directory+"/":"")+e.images[o].file;break}return t}}e.exports=o},function(e,n,t){"use strict";function o(e){var n=this,t=new Object;n.pushBack=function(e,n,o){t[e]=[n,o,Date.now()]},n.callMethodAndPop=function(e,n,o){if(!t.hasOwnProperty(e))throw{error:"CallbackBuffer::callMethodAndPop(). Callback not found"};t[e][1].call(t[e][0],n,o,e,Date.now()-t[e][2]),delete t[e]}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=!("undefined"==typeof window||!window.isSpaceifyNetwork)&&window.isSpaceifyNetwork,r="undefined"!=typeof window&&!window.location.hostname.match(/.*spaceify\.net/),i=null,c=null,s=null,a=null,u=null;n?(i="/var/lib/spaceify/code/",c=null,a=function(){},s=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),u=t(63)(i+"websocketrpcconnection")):(i=window.spe?window.spe:window,c=window.spl?window.spl.LoaderUtil.getLoaderUtil():{},s=i.SpaceifyConfig,a=i.SpaceifyNetwork,u=i.WebSocketRpcConnection);var l=new a,f=(s.getConfig(),o||n||r?new u:c.getPiperClient()),d=null,p=!1,g=!1;e.connect=function(e,t){g=!0,o||n||r?f.connect(e,function(e,n){e?(p=!1,g=!1,t(e,null)):(p=!0,g=!1,t(null,!0))}):f.createWebSocketTunnel({host:l.getEdgeURL({protocol:""}),port:e.port,protocol:l.getProtocol(!1,null)},null,function(e){d=e,p=!0,g=!1,t(null,!0)})},e.close=function(){f.close&&f.close(),f=null},e.callRpc=function(){if(o||n||r)f.callRpc.apply(e,arguments);else{var t=Array.prototype.slice.call(arguments);t.unshift(d),f.callClientRpc.apply(e,t)}},e.exposeRpcMethod=function(e,n,t){f.exposeRpcMethod(e,n,t)},e.exposeRpcMethodSync=function(e,n,t){f.exposeRpcMethodSync&&f.exposeRpcMethodSync(e,n,t)},e.isConnected=function(){return p},e.isConnecting=function(){return g},e.getPort=function(){return f.getPort?f.getPort():null},e.getIsOpen=function(){return f.getIsOpen?f.getIsOpen():null},e.getId=function(){return f.getId?f.getId():null},e.getIsSecure=function(){return f.getIsSecure?f.getIsSecure():null},e.connectionExists=function(e){return!!f.connectionExists&&f.connectionExists(e)},e.setConnectionListener=function(e){f.setConnectionListener&&f.setConnectionListener(e)},e.setDisconnectionListener=function(e){f.setDisconnectionListener&&f.setDisconnectionListener(e)}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=!(!n||"undefined"==typeof process.env.IS_REAL_SPACEIFY),r=null,i=null,c=null,s=null,a=null,u=null;n?(r="/var/lib/spaceify/code/",c=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),i=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),s=t(60)(r+"callbackbuffer"),a=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),u=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()):(r=window.spe?window.spe:window,c=r.SpaceifyLogger,i=r.SpaceifyError,s=r.CallbackBuffer,a=r.SpaceifyUtility,u=function(e){return e});var l=new i,f=new a,d=new s,p=new c("RpcCommunicator"),g=1,y={},w=null,v=[],h=[],m={},S=null,_=0,C=1,E="CALL RPC  >> ",R="REQUEST   -> ",O="NOTIFY    -> ",b="RESPONSE  <- ",A="ERESPONSE <- ";e.exposeRpcMethod=function(e,n,t){try{y[e]={type:C,method:t}}catch(e){p.error(e,!0,!0,p.ERROR)}},e.exposeRpcMethodSync=function(e,n,t){try{y[e]={type:_,method:t}}catch(e){p.error(e,!0,!0,p.ERROR)}},e.setConnectionListener=function(e){"function"==typeof e&&v.push(e)},e.setDisconnectionListener=function(e){"function"==typeof e&&h.push(e)},e.setBinaryListener=function(e){w="function"==typeof e?e:null},e.connectionExists=function(e){return!("undefined"==typeof e||!m.hasOwnProperty(e))||!("undefined"!=typeof e||!m.hasOwnProperty(S))},e.getConnection=function(e){return m[e]},e.callRpc=function(n,t,o,r,i){var c,s,a=[],u=!1,f="undefined"!=typeof i?i:S;if(e.connectionExists(i)){try{n instanceof Array||(u=!1,t=[t],n=[n]),s=g;for(var y=0;y<n.length;y++)c="function"==typeof r?{jsonrpc:"2.0",method:n[y],params:t[y],id:g++}:{jsonrpc:"2.0",method:n[y],params:t[y]},a.push(c);"function"==typeof r&&d.pushBack(s,o,r)}catch(e){return"function"==typeof r&&r(l.makeErrorObject(-32e3,"callRpc failed.","RpcCommunicator::callRpc"),null)}var w=u?a:a[0];p.log(E+JSON.stringify(w)),I(w,f)}},e.notifyAll=function(e,n){try{for(var t in m)I({jsonrpc:"2.0",method:e,params:n,id:null},t)}catch(e){p.error(e,!0,!0,p.ERROR)}},e.getBufferedAmount=function(e){return m[e].getBufferedAmount()},e.sendBinary=function(e,n){try{m[n].sendBinary(e)}catch(e){p.error(e,!0,!0,p.ERROR)}};var I=function(e,n){try{m[n].send(JSON.stringify(e))}catch(e){p.error(e,!0,!0,p.ERROR)}};e.sendMessage=I;var L=function(e,t){var r=!0;try{e instanceof Array||(e=[e],r=!1),e[0].method?n&&!o?u.run(function(){P.sync(e,r,[],!0,t)},function(e,n){}):P(e,r,[],!0,t):x(e,r)}catch(e){p.error(e,!0,!0,p.ERROR)}},P=function(e,n,t,r,i){var c,s=e.shift();if(s){var a=s.hasOwnProperty("id")?s.id:null,u=s.hasOwnProperty("params")?s.params:[];if(null!=a&&(r=!1),p.log((a?R:O)+JSON.stringify(s)),!s.jsonrpc||"2.0"!=s.jsonrpc||!s.method)return D(a,{jsonrpc:"2.0",error:{code:-32600,message:"The JSON sent is not a valid Request object."},id:null},t),P(e,n,t,r,i);if("undefined"!==u&&u.constructor!==Array)return D(a,{jsonrpc:"2.0",error:{code:-32602,message:"Invalid method parameter(s). Parameters must be placed inside an array."},id:a},t),P(e,n,t,r,i);if(!y.hasOwnProperty(s.method))return D(a,{jsonrpc:"2.0",error:{code:-32601,message:"The method does not exist / is not available: "+s.method+"."},id:a},t),P(e,n,t,r,i);try{var l=y[s.method],f=u.length,d=l.type==_?(o?l.method.length:l.method.getLength())-1:l.method.length-2;if(d<f)u.splice(d-f,f-d);else if(d>f)for(d-=f;d--;)u.push(null);var g={requestId:a,connectionId:i,isSecure:m[i].getIsSecure()};o||(g.origin=m[i].getOrigin(),g.remotePort=m[i].getRemotePort(),g.remoteAddress=m[i].getRemoteAddress()),l.type!=_||o?l.type==_&&o?(u.push(g),c=l.method.apply(l.object,u),D(a,c,t),P(e,n,t,r,i)):null!=a?(u.push(g,function(o,c){T(o,c,a,e,n,t,r,i)}),l.method.apply(l.object,u)):(u.push(g),l.method.apply(l.object,u),P(e,n,t,r,i)):(u.push(g),c=l.method.sync.apply(l.object,u),D(a,c,t),P(e,n,t,r,i))}catch(o){k(a,o,t),P(e,n,t,r,i)}}else r||0!=t.length||t.push({jsonrpc:"2.0",error:{code:-32603,message:"Internal JSON-RPC error."},id:null}),t.length>0&&I(n?t:t[0],i)},T=function(e,n,t,o,r,i,c,s){e?(k(t,e,i),P(o,r,i,c,s)):(D(t,n,i),P(o,r,i,c,s))},D=function(e,n,t){null!=e&&(n="undefined"==typeof n?null:n,p.log(b+JSON.stringify(n)),t.push({jsonrpc:"2.0",result:n,id:e}))},k=function(e,n,t){null!=e&&(n=l.make(n),p.log(A+JSON.stringify(n)),t.push({jsonrpc:"2.0",error:n,id:e}))},x=function(e,n){var t=null,o=null;try{if(n){var r=N(e);d.callMethodAndPop(r.smallestId,r.errors,r.results)}else{if(p.log(b+JSON.stringify(e[0])),!e[0].jsonrpc||"2.0"!=e[0].jsonrpc||!e[0].id||e[0].result&&e[0].error)return;e[0].hasOwnProperty("error")?(t=e[0].error,o=null):e[0].hasOwnProperty("result")&&(t=null,o=e[0].result),d.callMethodAndPop(e[0].id,t,o)}}catch(e){p.error(e,!0,!0,p.ERROR)}},N=function(e){for(var n=-1,t={},o={},r=0;r<e.length;r++)p.log(b+JSON.stringify(e[r])),!e[r].jsonrpc||"2.0"!=e[r].jsonrpc||!e[r].id||e[r].result&&e[r].error||(n=Math.max(n,e[r].id),e[r].hasOwnProperty("error")?(t[e[r].id]=e[r].error,o[e[r].id]=null):e[r].hasOwnProperty("result")&&(t[e[r].id]=null,o[e[r].id]=o[r].result));return{smallestId:n,errors:t,results:o}};e.setupPipe=function(e,n){m.hasOwnProperty(e)&&m.hasOwnProperty(n)&&(m[e].setPipedTo(n),m[n].setPipedTo(e))},e.onMessage=function(e,n){try{var t=n.getPipedTo();if(null!=t)return void m[t].send(e);if(e instanceof ArrayBuffer)return void("function"==typeof w&&w.onBinary(e,n.getId()));try{e=JSON.parse(e),L(e,n.getId())}catch(e){I({jsonrpc:"2.0",error:{code:-32700,message:"Invalid JSON."},id:null},n.getId())}}catch(e){p.error(e,!0,!0,p.ERROR)}},e.addConnection=function(n){try{n.getId()||n.setId(f.generateRandomConnectionId(m)),m[n.getId()]=n,n.setEventListener(e);for(var t=0;t<v.length;t++)v[t](n.getId());return S=n.getId(),n.getId()}catch(e){p.error(e,!0,!0,p.ERROR)}},e.onDisconnected=function(n){try{e.closeConnection(n);for(var t=0;t<h.length;t++)h[t](n)}catch(e){p.error(e,!0,!0,p.ERROR)}},e.closeConnection=function(e){try{e in m&&(m[e].close(),delete m[e])}catch(e){p.error(e,!0,!0,p.ERROR)}}}e.exports=o},function(e,n,t){"use strict";function o(e){var n=this,t="undefined"==typeof window,o=null,s=null;t?(o="/var/lib/spaceify/code/",s=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()):(o=window.spe?window.spe:window,s=o.SpaceifyLogger);var a=new s("WebRtcConnection"),u=null,l=null,f=null,d=null,p=null,g=null,y=null,w=null,v={optional:[{DtlsSrtpKeyAgreement:!0}]},h=new r(e,v),m=null;h.ondatachannel=function(e){var t=e.channel||e;a.log("WebRtcConnection::peerConnection.ondatachannel",e),m=t,m.binaryType="arraybuffer",m.onopen=n.onDataChannelOpen,m.onmessage=n.onMessage};var S=function(e){a.log("WebRtcConnection::onsignalingstatechange",e)},_=function(e){a.log("WebRtcConnection::oniceconnectionstatechange",e),"function"!=y||"disconnected"!=h.iceConnectionState&&"closed"!=h.iceConnectionState||y.onDisconnected(f)},C=function(e){a.log("WebRtcConnection::onicegatheringstatechange",e)},E=function(e){a.log("WebRtcConnection::onIceCanditate - partnerId:",f,", event:",e,"> iceListener was",d),null==e.candidate?a.log("> All Ice candidates listed"):d.onIceCandidate(e.candidate,f)};h.onsignalingstatechange=S,h.oniceconnectionstatechange=_,h.onicegatheringstatechange=C,h.onicecandidate=E,n.close=function(){a.log("WebRtcConnection::close"),m.close(),"closed"!=h.signalingState&&h.close()},n.send=function(e){try{"open"==m.readyState&&m.send(e)}catch(e){a.error(e,!0,!0,a.ERROR)}},n.getBufferedAmount=function(){return m.bufferedAmount},n.sendBinary=function(e){try{"open"==m.readyState&&m.send(e)}catch(e){a.error(e,!0,!0,a.ERROR)}},n.onDataChannelClosed=function(e){a.log("WebRtcConnection::onDataChannelClosed",e),y.onDisconnected(n)},n.onDataChannelOpen=function(e){a.log("WebRtcConnection::onDataChannelOpen",e),m.binaryType="arraybuffer",m.onclose=n.onDataChannelClosed,m.onmessage=n.onMessage,w&&w.onDataChannelOpen(n)},n.onMessage=function(e){try{g&&g.onMessage(e.data,n)}catch(e){a.error(e,!0,!0,a.ERROR)}},n.setId=function(e){u=e},n.getId=function(){return u},n.getPartnerId=function(){return f},n.setPartnerId=function(e){f=e},n.setDataChannelListener=function(e){w=e},n.setListener=function(e){g=e},n.setIceListener=function(e){d=e,a.log("WebRtcConnection::setIceListener",e)},n.setStreamListener=function(e){p=e,h.onaddstream=function(e){n.onStream(e)},h.onremovestream=function(e){n.onRemoveStream(e)}},n.setEventListener=function(e){y=e},n.onStream=function(e){a.log("WebRtcConnection::onStream",e),p.onStream(e.stream,f)},n.onRemoveStream=function(e){a.log("WebRtcConnection::onStream",e),p.onRemoveStream(e.stream,f)},n.addStream=function(e){l=e,h.addStream(e)},n.createConnectionOffer=function(e){var t=null;m=h.createDataChannel("jsonrpcchannel",{reliable:!0}),m.binaryType="arraybuffer",m.onopen=n.onDataChannelOpen,m.onmessage=n.onMessage,h.createOffer(function(n){a.log("WebRtcConnection::peerConnectio.createOffer - Called its callback:",n),t=n,h.setLocalDescription(n,function(){e(h.localDescription,f)},function(e){a.error(e,!0,!0,a.ERROR)},{})},function(e){a.error(e,!0,!0,a.ERROR)})},n.onConnectionAnswerReceived=function(e){a.log("WebRtcConnection::onConnectionAnswerReceived, descriptor:",e),h.setRemoteDescription(new i(e),function(){a.log("WebRtcConnection::onConnectionAnswerReceived() - setRemoteDescription returned OK")},function(e){a.error(e,!0,!0,a.ERROR)})},n.onConnectionOfferReceived=function(e,n,t){a.log("WebRtcConnection::onConnectionOfferReceived - Trying to set remote description");var o=new i(e);h.setRemoteDescription(o,function(){a.log("WebRtcConnection::onConnectionOfferReceived Remote description set"),h.createAnswer(function(e){h.setLocalDescription(e,function(){t(h.localDescription)},function(e){a.error(e,!0,!0,a.ERROR)})},function(e){a.error(e,!0,!0,a.ERROR)})},function(e){a.error(e,!0,!0,a.ERROR)})},n.onIceCandidateReceived=function(e){h.addIceCandidate(new c(e),function(){a.log("WebRtcConnection::onIceCandidateReceived - Adding Ice candidate succeeded")},function(e){a.error(e,!0,!0,a.ERROR)})},n.setPipedTo=function(e){},n.getPipedTo=function(){return null}}var r=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,c=window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate;e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null;n?(o="/var/lib/spaceify/code/",r=t(13)(o+"rpccommunicator"),i=t(64)(o+"websocketserver")):(o=window.spe?window.spe:window,r=window.RpcCommunicator,i=window.WebSocketServer);var c=new r,s=new i;s.setEventListener(c);var a=null,u=null;e.listen=function(e,n){c.setConnectionListener(l),c.setDisconnectionListener(f);try{s.listen(e,n)}catch(e){}},e.close=function(){s.close()},e.getCommunicator=function(){return c},e.getServer=function(){return s},e.getIsOpen=function(){return s.getIsOpen()},e.getIsSecure=function(){return s.getIsSecure()},e.getPort=function(){return s.getPort()},e.getId=function(){return s.getId()},e.connectionExists=function(e){return c.connectionExists(e)},e.exposeRpcMethod=function(e,n,t){c.exposeRpcMethod(e,n,t)},e.exposeRpcMethodSync=function(e,n,t){c.exposeRpcMethodSync(e,n,t)},e.callRpc=function(){c.callRpc.apply(this,arguments)},e.nofifyAll=function(e,n){c.nofifyAll(e,n)},e.closeConnection=function(e){c.closeConnection(e)},e.setConnectionListener=function(e){a="function"==typeof e?e:null},e.setDisconnectionListener=function(e){u="function"==typeof e?e:null},e.setServerUpListener=function(e){s.setServerUpListener("function"==typeof e?e:null)},e.setServerDownListener=function(e){s.setServerDownListener("function"==typeof e?e:null)};var l=function(n){"function"==typeof a&&a(n,e.getId(),e.getIsSecure())},f=function(n){"function"==typeof u&&u(n,e.getId(),e.getIsSecure())}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n="undefined"==typeof window,o=null,r=null,i=null,c=null,s=null;n?(o="/var/lib/spaceify/code/",r=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),i=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),c=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),s=t(15)(o+"websocketconnection"),global.fs=t(0),global.URL=t(73),global.http=t(67),global.https=t(68),global.WSServer=t(37).server):(o=window.spe?window.spe:window,r=window.SpaceifyLogger,i=window.SpaceifyConfig,c=window.SpaceifyUtility,s=window.WebSocketConnection);var a=new c,u=i.getConfig(),l=new r("WebSocketServer"),f={},d=!1,p=null,g=null,y=null,w=null,v=null,h=null;e.listen=function(e,n){try{if("id"in f||(f.hostname=e.hostname||null,f.port=e.port||0,f.key=e.key||"",f.crt=e.crt||"",f.caCrt=e.caCrt||"",f.isSecure=e.isSecure||!1,f.keepUp=e.keepUp||"",f.protocol=f.isSecure?"wss":"ws",f.subprotocol=e.subprotocol||"json-rpc",f.id=e.id||a.generateRandomConnectionId({})),l.log(a.replace("WebSocketServer::listen() protocol: ~pr, subprotocol: ~s, hostname: ~h, port: ~po",{"~pr":f.protocol,"~s":f.subprotocol,"~h":f.hostname,"~po":f.port})),d=!1,f.isSecure){var t=fs.readFileSync(f.key),o=fs.readFileSync(f.crt),r=fs.readFileSync(f.caCrt,"utf8");y=https.createServer({key:t,cert:o,ca:r},function(e,n){n.writeHead(501),n.end("Not implemented")})}else y=http.createServer(function(e,n){n.writeHead(501),n.end("Not implemented")});y.listen(f.port,f.hostname,511,function(){f.port=y.address().port,m(),"function"==typeof n&&n(null,!0)}),y.on("error",function(e){l.error("WebSocketServer::onError()",!0,!0,l.ERROR),S(),"function"==typeof n&&n(e,null)}),y.on("close",function(){S()}),g=new WSServer({httpServer:y,autoAcceptConnections:!1,keepalive:!0,keepaliveInterval:6e4,dropConnectionOnKeepaliveTimeout:!0,keepaliveGracePeriod:1e4}),g.on("request",function(e){try{var n=new s;n.setSocket(e.accept(f.subprotocol,e.origin)),n.setRemoteAddress(e.remoteAddress),n.setRemotePort(e.remotePort),n.setOrigin(e.origin),n.setIsSecure(f.isSecure);var t=URL.parse(e.resourceURL,!0).query;t&&t.id&&n.setId(t.id),w.addConnection(n),l.log(a.replace("WebSocketServer::request(~lp) protocol: ~p, remoteAddress: ~ra, remotePort: ~rp, origin: ~o, id: ~i",{"~lp":f.port,"~p":f.protocol,"~ra":e.remoteAddress,"~rp":e.remotePort,"~o":e.origin,"~i":n.getId()},"-"))}catch(e){return void l.error(e,!0,!0,l.ERROR)}}),g.on("connect",function(e){}),g.on("close",function(e,n,t){})}catch(e){l.error(e,!0,!0,l.ERROR)}},e.close=function(){try{l.log(a.replace("WebSocketServer::close() protocol: :pr, subprotocol: :s, hostname: :h, port: :po",{":pr":f.protocol,":s":f.subprotocol,":h":f.hostname,":po":f.port})),d=!0,g&&(g.shutDown(),g=null),y&&(y.close(),y=null)}catch(e){l.error(e,!0,!0,l.ERROR)}},e.getPort=function(){return f.port},e.getIsOpen=function(){return!(!y||!g)},e.getIsSecure=function(){return f.isSecure},e.getId=function(){return f.id},e.setEventListener=function(e){w=e};var m=function(){v&&v(f.id)},S=function(){h&&h(f.id),f.keepUp&&null==p&&!d&&(p=setTimeout(function(){p=null,e.listen(f,null)},u.RECONNECT_WAIT))};e.setServerUpListener=function(e){v="function"==typeof e?e:null},e.setServerDownListener=function(e){h="function"==typeof e?e:null}}e.exports=o},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./webjsonrpc/connection":25,"./webjsonrpc/webrtcconnection":27,"./webjsonrpc/websocketconnection":9,"./webjsonrpc/websocketrpcconnection":10};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=30},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifycore":19};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=31},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifylogger":7};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=32},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifyutility":23};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=33},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=34},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=35},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_36__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_37__},function(e,n,t){"use strict";function o(){var e="undefined"==typeof window,n=!(!e||"undefined"==typeof process.env.IS_REAL_SPACEIFY),o=null,r=null,i=null,c=null,s=null,a=null,u=null,l=null;e?(o="/var/lib/spaceify/code/",r=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),i=t(31)(o+"spaceifycore"),c=t(1)(o+"spaceifyconfig"),s=t(32)(o+"spaceifylogger"),a=t(33)(o+"spaceifyutility"),u=t(55)(o+"serviceinterface"),l=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()):(o=window.spe?window.spe:window,r=function(){},i=o.SpaceifyCore,c=o.SpaceifyConfig,s=o.SpaceifyLogger,a=o.SpaceifyUtility,u=o.ServiceInterface,l=function(e){return e});var f=this,d=new r,p=new r,g=new a,y=new i,w=new u,v=c.getConfig("realpaths"),h=new s("SpaceifyApplication"),m=null,S=null,_=n?80:null,C=n?443:null;f.start=function(){e?E.apply(f,arguments):f.connect.apply(f,arguments)};var E=function(e,t){l.run(function(){var o,r,i,c,s,a=!1,u=!1,l=!0,f=!0;S=e,t=t||{},s=!(!t.webservers&&!t.webServers),s&&(o=t.webservers||t.webServers,a="http"in o&&o.http,u="https"in o&&o.https),(t.websocketservers||t.webSocketServers)&&(o=t.websocketservers||t.webSocketServers,l="secure"in o&&o.secure,f="unsecure"in o&&o.unsecure);try{if(m=g.sync.loadJSON(v.VOLUME_APPLICATION_PATH+v.MANIFEST,!0,!0),m.provides_services)for(var h=m.provides_services,E=0;E<h.length;E++)h.service_type!=v.ALIEN&&(r=n?v.FIRST_SERVICE_PORT+E:null,i=n?v.FIRST_SERVICE_PORT_SECURE+E:null,w.sync.listen(h[E].service_name,m.unique_name,r,i,f,l));if(m.requires_services&&(A.sync(m.requires_services,0,!1),A.sync(m.requires_services,0,!0)),s){var R={hostname:v.ALL_IPV4_LOCAL,key:v.VOLUME_TLS_PATH+v.SERVER_KEY,crt:v.VOLUME_TLS_PATH+v.SERVER_CRT,
caCrt:v.API_WWW_PATH+v.SPACEIFY_CRT,wwwPath:v.VOLUME_APPLICATION_WWW_PATH,indexFile:v.INDEX_FILE,serverName:m.name+" Server"};c=!1,a&&!d.getIsOpen()&&(R.isSecure=!1,R.port=_,R.mappedPort=n?process.env.PORT_80:null,d.setSessionListener(null,v.SESSION_TOKEN_NAME),d.listen.sync(R),_=d.getPort(),c=!0),u&&!p.getIsOpen()&&(R.isSecure=!0,R.port=C,R.mappedPort=n?process.env.PORT_443:null,p.setSessionListener(null,v.SESSION_TOKEN_NAME),p.listen.sync(R),C=p.getPort(),c=!0),c&&!n&&(y.sync.registerService("http",{unique_name:m.unique_name,port:_,securePort:C}),console.log("    LISTEN -----> "+v.HTTP+" - port: "+_+", secure port: "+C))}S&&S.start&&"function"==typeof S.start&&S.start(),console.log(v.APPLICATION_INITIALIZED,"---",m.unique_name)}catch(e){O.sync(e)}},function(e,n){})};f.connect=function(e,n,t){try{S=e,n.constructor!==Array&&(n=[n]),y.getOpenServices(n,!1,function(e,n){if(e)throw e;R(S,n)})}catch(e){"function"==typeof S?S(e,!1):S&&S.fail&&"function"==typeof S.fail&&S.fail(e)}};var R=function(e,n){var t=n.shift();return S=e,"undefined"==typeof t?void("function"==typeof S?S(null,!0):S&&S.start&&"function"==typeof S.start&&S.start()):void w.connect(t.service_name,function(e,t){R(S,n)})},O=l(function(e){h.error([";;",e,"::"],!0,!0,h.ERROR),console.log(m.unique_name+v.APPLICATION_UNINITIALIZED),b.sync(e)}),b=l(function(e){d.close(),p.close(),w.disconnect(),w.close(),y.close(),S&&S.fail&&"function"==typeof S.fail&&S.fail(e)}),A=function(e,n,t,o){n==e.length?o():w.connect(e[n++].service_name,t,function(r,i){A(e,n,t,o)})};f.getOwnUrl=function(n){if(!e)return null;var t=(n?"https://":"http://")+v.EDGE_HOSTNAME+":"+(n?C:_);return t},f.getManifest=function(){return m},f.getRequiredService=function(e){return w.getRequiredService(e)},f.getProvidedService=function(e){return w.getProvidedService(e)},f.setDisconnectionListeners=function(e,n){var t;"function"==typeof n&&((t=w.getProvidedService(e,!1))&&(t.getIsSecure()||t.setDisconnectionListener(n)),(t=w.getProvidedService(e,!0))&&t.getIsSecure()&&t.setDisconnectionListener(n))},f.setConnectionListeners=function(e,n){var t;"function"==typeof n&&((t=w.getProvidedService(e,!1))&&(t.getIsSecure()||t.setConnectionListener(n)),(t=w.getProvidedService(e,!0))&&t.getIsSecure()&&t.setConnectionListener(n))},f.callRpcByConnectionId=function(e,n,t,o,r){var i=w.getServiceById(e);i&&i.callRpc(n,t,o,r)}}e.exports="undefined"==typeof window?new o:o},function(e,n,t){"use strict";function o(){var e,n=this,t=window.spe?window.spe:window,o=new t.SpaceifyError,r=new t.SpaceifyNetwork,i=new t.SpaceifyUtility,c=t.SpaceifyConfig.getConfig(),s=new t.SpaceifyMessages,a=[],u=0,l=null,f=null;n.installApplication=function(e,n,t,o,r,i){d("installApplication",{package:e,username:n,password:t,force:o},r,i,!0)},n.removeApplication=function(e,n,t){d("removeApplication",{unique_name:e},n,t,!0)},n.purgeApplication=function(e,n,t){d("purgeApplication",{unique_name:e},n,t,!0)},n.startApplication=function(e,n,t){d("startApplication",{unique_name:e},n,t,!0)},n.stopApplication=function(e,n,t){d("stopApplication",{unique_name:e},n,t,!0)},n.restartApplication=function(e,n,t){d("restartApplication",{unique_name:e},n,t,!0)},n.logIn=function(e,n,t){d("logIn",{password:e},n,t,!1)},n.logOut=function(e,n){d("logOut",{},e,n,!1)},n.isAdminLoggedIn=function(e,n){d("isAdminLoggedIn",{},e,n,!0)},n.getCoreSettings=function(e,n){d("getCoreSettings",{},e,n,!0)},n.saveCoreSettings=function(e,n,t){d("saveCoreSettings",{settings:e},n,t,!0)},n.getEdgeSettings=function(e,n){d("getEdgeSettings",{},e,n,!0)},n.saveEdgeSettings=function(e,n,t){d("saveEdgeSettings",{settings:e},n,t,!0)},n.getRuntimeServiceStates=function(e,n){d("getRuntimeServiceStates",{},e,n,!0)},n.getApplications=function(e,n,t){d("getApplications",{types:e},n,t,!0)},n.appStoreGetPackages=function(e,n){var e=JSON.stringify(e),t='Content-Disposition: form-data; name="search";\r\nContent-Type: plain/text; charset=utf-8';r.POST_FORM(c.EDGE_APPSTORE_GET_PACKAGES_URL,[{content:t,data:e}],"application/json",function(e,t){var e=null,r=null;try{t=t.replace(/&quot;/g,'"'),t=t.replace(/\\|^"|"$/g,""),r=JSON.parse(t),r.error&&(e=r.error,r=null)}catch(n){e=o.makeErrorObject("JSON","Failed to get packages: JSON.parse failed","SpaceifyApplicationManager::appStoreGetPackages")}n(e,r)})};var d=function(n,t,o,r,c){var s={type:n,params:t,origin:o,handler:r,getMessages:c,ms:Date.now(),id:i.randomString(16,!0)};0==a.length?(e=s,p()):a.push(s)},p=function(){e.getMessages?s.connect(n,e.origin):n.connected()};n.connected=function(){u=1;var t={type:e.type};for(var o in e.params)t[o]=e.params[o];r.doOperation(t,function(e,t){l=e,f=t,n.end(1)})},n.fail=function(e){l=e,f=null,n.end(2)},n.end=function(n){if(n+=n,2==n){var t=s.getErrors();l||t.length>0?e.origin.error(l?[l]:t,e.id,Date.now()-e.ms):"function"==typeof e.handler&&e.handler(f,e.id,Date.now()-e.ms),a.length>0&&(e=a.shift(),p())}},n.answer=function(e,n){s.answer(e,n)}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n={},t=6e4,o=SpaceifyConfig.getConfig();e.setApplication=function(e){n[e.unique_name]||(n[e.unique_name]={}),n[e.unique_name].manifest=e,n[e.unique_name].isRunning=e.isRunning},e.getApplication=function(e){return e in n?n[e]:null},e.setService=function(e,t){e.service_type==o.HTTP&&(n[t]||(n[t]={}),n[t].services||(n[t].services=[]),n[t].services.push(e))},e.getService=function(e,t){for(var r in n)for(var i=n[r].services?n[r].services:[],c=0;c<i.length;c++){var s=i[c].service_name;if(!t&&e==s&&e!=o.HTTP||t&&t==r&&e==s)return i[c]}return null},e.setManifest=function(e,t){n[e]||(n[e]={}),n[e].manifest=t},e.getManifest=function(e){return n[e]&&n[e].manifest?n[e].manifest:null},e.setRunning=function(e,t){n[e]||(n[e]={}),n[e].isRunning=t,n[e].isRunningStart=Date.now()},e.isRunning=function(e){if(!n[e]||!n[e].hasOwnProperty("isRunning"))return null;var o=Date.now()-n[e].isRunningStart;return o>t?null:n[e].isRunning},e.setApplicationURL=function(e,t){n[e]||(n[e]={}),n[e].urls=t,n[e].urls_start=Date.now()},e.getApplicationURL=function(e){if(!n[e]||!n[e].hasOwnProperty("urls"))return null;var o=Date.now()-n[e].urls_start;return o>t?null:n[e].urls}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this;e.show=function(e,n){var t,o,r;for(o=e.split(","),t=0;t<o.length;t++)r=document.getElementById(o[t].trim()),r&&("undefined"!=typeof r.style.display&&""!=r.style.display&&(r.style.display=n?"block":"none"),"undefined"!=typeof r.style.visibility&&""!=r.style.visibility&&(r.style.visibility=n?"visible":"hidden"))},e.isVisible=function(e){var n=!1,t=document.getElementById(e);return!!t&&("undefined"!=typeof t.style.display?n=""!=t.style.display&&"none"!=t.style.display:"undefined"!=typeof t.style.visibility&&(n=""!=t.style.visibility&&"hidden"!=t.style.visibility),n)},e.empty=function(e){var n,t,e=e.split(",");for(n=0;n<e.length;n++)for(t=document.getElementById(e[n].trim());t.firstChild;)t.removeChild(t.firstChild)},e.remove=function(e,n){var t,o;(t=document.getElementById(e))&&(o=document.getElementById(n))&&t.removeChild(o)},e.value=function(e,n){var t=null,o=document.getElementById(e);return o&&(n?o.value=n:t=o.value),t},e.focus=function(e){var n=document.getElementById(e);n&&n.focus()},e.append=function(e,n){var t=document.getElementById(e);t&&("string"==typeof n?t.appendChild(document.createTextNode(n)):t.appendChild(n))},e.getPosition=function(e){var n,t,o,r={x:0,y:0,set:!1};for(o="string"==typeof e?document.getElementById(e):e;o;)"BODY"==o.tagName?(n=o.scrollLeft||document.documentElement.scrollLeft,t=o.scrollTop||document.documentElement.scrollTop,r.x+=o.offsetLeft-n+o.clientLeft,r.y+=o.offsetTop-t+o.clientTop,r.set=!0):(r.x+=o.offsetLeft-o.scrollLeft+o.clientLeft,r.y+=o.offsetTop-o.scrollTop+o.clientTop,r.set=!0),o=o.offsetParent;return r}}e.exports=o},function(e,n,t){"use strict";function o(){var e,n=this,t=window.spe?window.spe:window,o=new t.Connection,r=new t.SpaceifyNetwork,i=t.SpaceifyConfig.getConfig(),c=[],s=[],a=null,u=null;n.connect=function(t,m){c=[],s=[],a=m,u=t;var S={hostname:r.getEdgeURL({protocol:""}),port:i.APPMAN_MESSAGE_PORT_SECURE,isSecure:!0};return o.isConnected()?u.connected():(o.exposeRpcMethod("stdout",n,y),o.exposeRpcMethod("fail",n,l),o.exposeRpcMethod("error",n,f),o.exposeRpcMethod("warning",n,d),o.exposeRpcMethod("notify",n,p),o.exposeRpcMethod("message",n,g),o.exposeRpcMethod("question",n,w),o.exposeRpcMethod("questionTimedOut",n,v),o.exposeRpcMethod("end",n,h),void r.doOperation({type:"requestMessageId"},function(n,t){return n?l(n):(e=t,void(null!==e?o.connect(S,function(n,t){return n?l(n):(o.callRpc("confirm",[e]),void u.connected())}):u.connected()))}))},n.isConnected=function(){return o.isConnected()},n.getErrors=function(){return c},n.getWarnings=function(){return s};var l=function(e,n,t){a.fail&&a.fail(e),u.fail(e),"function"==typeof t&&t(null,!0)},f=function(e,n,t){c.push(e),"function"==typeof t&&t(null,!0)},d=function(e,n,t,o){d.push({message:e,code:n}),a.warning&&a.warning(e,n),"function"==typeof o&&o(null,!0)},p=function(e,n,t,o){a.notify&&a.notify(e,n,t,o),"function"==typeof o&&o(null,!0)},g=function(e,n,t){a.message&&a.message(e),"function"==typeof t&&t(null,!0)},y=function(e,n,t){a.stdout&&a.stdout(e),"function"==typeof t&&t(null,!0)},w=function(e,n,t,o,r,i){a.question&&a.question(e,n,t,o),"function"==typeof i&&i(null,!0)},v=function(e,n,t,o,r){a.questionTimedOut&&a.questionTimedOut(e,n,t),"function"==typeof r&&r(null,!0)},h=function(e,n,t){u.end(1),"function"==typeof t&&t(null,!0)};n.sendAnswer=function(n,t){o.callRpc("answer",[e,n,t])}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n=0,t={spacelet:{},sandboxed:{},sandboxed_debian:{},native_debian:{},spacelet_count:0,sandboxed_count:0,sandboxed_debian_count:0,native_debian_count:0},o=window.spe?window.spe:window,r=new o.SpaceifyDOM,i=new o.SpaceifyCore,c=new o.SpaceifyUtility,s=new o.SpaceifyNetwork,a=(new o.SpaceifyApplicationManager,o.SpaceifyConfig.getConfig()),u=80,l=443,f="tile",d="apptile";e.showLoading=function(e){e?(0==n&&r.show("loading",!0),n++):(n=Math.max(0,--n),0==n&&r.show("loading",!1))};var p={error:null,success:null};e.showError=function(e,n){g(e,n,"error")},e.showSuccess=function(e){g(id,e,"success")};var g=function(e,n,t){var o,i=document.getElementById(e);i&&(p[t]&&clearTimeout(p[t]),r.empty(e),o=document.createTextNode(n),i.appendChild(o),i.style.visibility="visible",p[t]=window.setTimeout(function(){i.style.visibility="hidden",p[t]=null},5e3))};e.onEnterPress=function(e){var n=null==typeof e?window.event.keyCode:e.keyCode;return 13==n||10==n},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.setSplashAccepted=function(){try{i.setSplashAccepted(function(e,n){n&&1==n&&window.location.reload(!0)})}catch(e){}},e.loadCertificate=function(){var e=s.getEdgeURL({withEndSlash:!0})+"spaceify.crt";return document.getElementById("certIframe").setAttribute("sp_src",e),spaceifyLoader.loadData(document.getElementById("certIframe"),{},null),!0},e.adminLogOut=function(){var n=new SpaceifyApplicationManager;this.error=this.fail=this.warning=this.notify=this.message=function(){},this.ok=function(){e.loadLaunchPage()},n.logOut(e,this.ok)},e.loadAppstorePage=function(e){var n=s.getEdgeURL({withEndSlash:!0}),t=s.isSecure()?l:u;spaceifyLoader.loadPage(a.INDEX_FILE,t,n+a.APPSTORE,n)},e.loadLaunchPage=function(){var e=s.getEdgeURL({withEndSlash:!0}),n=s.isSecure()?l:u;spaceifyLoader.loadPage(a.INDEX_FILE,n,e,e)},e.loadSecurePage=function(){var e=s.getEdgeURL({protocol:"https",withEndSlash:!0});window.location.replace(e)},e.showInstalledApplications=function(n){r.empty("spacelet, sandboxed, sandboxed_debian, native_debian");var t,o=[];i.getApplicationData(function(r,i){if(!i)return"function"==typeof n&&n();for(t=0;t<i.spacelet.length;t++)o.push({object:e,method:e.renderTile,params:[i.spacelet[t],null],type:"async"});for(t=0;t<i.sandboxed.length;t++)o.push({object:e,method:e.renderTile,params:[i.sandboxed[t],null],type:"async"});for(t=0;t<i.sandboxed_debian.length;t++)o.push({object:e,method:e.renderTile,params:[i.sandboxed_debian[t],null],type:"async"});for(t=0;t<i.native_debian.length;t++)o.push({object:e,method:e.renderTile,params:[i.native_debian[t],null],type:"async"});(new SpaceifySynchronous).waterFall(o,function(){"function"==typeof n&&n()})})},e.renderTile=function(e,n){var t,o,u,l,d,p,g,w,h,m,S,t;e.hasTile?i.getApplicationURL(e.unique_name,function(i,c){u=s.isSecure()?c.securePort:c.port,p=s.getEdgeURL({withEndSlash:!0}),c.implementsWebServer&&u?(l=p,d=p):(l=p,d=s.externalResourceURL(e.unique_name,{withEndSlash:!0})),g=a.TILEFILE,h=v(e.unique_name),t=document.createElement("iframe"),t.id=h,t.frameborder="0",t.className="edgeTile",r.append(e.type,t),o={},o.sp_port=u,o.sp_host=encodeURIComponent(d),o.sp_path=encodeURIComponent(g),o.spe_host=encodeURIComponent(p),t=document.getElementById(h),t.src=l+"remote.html"+s.remakeQueryString(o,[],{},"",!0),n()}):((w=c.getApplicationIcon(e,!1))?(d=s.externalResourceURL(e.unique_name,{protocol:"",withEndSlash:!0}),g=w):(d=s.getEdgeURL({withEndSlash:!0}),g="images/default_icon-128p.png"),h=v(e.unique_name),m="icon_"+h,S=window.spetiles[f],S=S.replace("::icon_id",m),S=S.replace("::sp_src",d+g),S=S.replace("::manifest.name",e.name),S=S.replace("::manifest.developer.name",e.developer.name),t=document.createElement("div"),t.id=h,t.className="edgeTile",t.innerHTML=S,r.append(e.type,t),spaceifyLoader.loadData(document.getElementById(m),{},n)),y(e)},e.removeTile=function(e,n){w(n),r.show(e+", "+e+"_header",t[e+"_count"]>0),r.remove(e,v(n.unique_name))};var y=function(e){e.type==a.SPACELET?(t.spacelet[e.unique_name]=e,t.spacelet_count++):e.type==a.SANDBOXED?(t.sandboxed[e.unique_name]=e,t.sandboxed_count++):e.type==a.SANDBOXED_DEBIAN?(t.sandboxed_debian[e.unique_name]=e,t.sandboxed_debian_count++):e.type==a.NATIVE_DEBIAN&&(t.native_debian[e.unique_name]=e,t.native_debian_count++)},w=function(e){e.type==a.SPACELET?(delete t.spacelet[e.unique_name],t.spacelet_count--):e.type==a.SANDBOXED?(delete t.sandboxed[e.unique_name],t.sandboxed_count--):e.type==a.SANDBOXED_DEBIAN?(delete t.sandboxed_debian[e.unique_name],t.sandboxed_debian_count--):e.type==a.NATIVE_DEBIAN&&(delete t.native_debian[e.unique_name],t.native_debian_count--)};e.getApplications=function(){return t};var v=function(e){return d+"_"+e.replace(/\//,"_")};e.showPopup=function(e,n){var t,o,i,c;if(!(i=document.getElementById(e)))return!1;if(c=r.isVisible(e))for(o=i.childNodes,t=0;t<o.length;t++)"undefined"!=typeof o[t].id&&r.show(o[t].id,!1);return r.show(e,n),!0},e.showMenu=function(){var n,t,o;n=document.getElementById("btn_menu"),o=r.getPosition(n);var i=e.showPopup("popups",!0);i&&(t=document.getElementById("popup_menu"),t.style.top=o.y+"px",t.style.left=o.x+n.offsetWidth-200+"px",r.show("popup_menu",!0))}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n=0,t=[],o={},r=null,i=null;e.waterFall=function(e,n){if(e&&0!=e.length||"function"!=typeof n){if(!e||0==e.length||"function"!=typeof n)return}else n(o);i=n,t=e,c()};var c=function(){if(0==t.length)return i();var e=t.shift();"async"==e.type?(r=e.params[e.params.length-1],e.params[e.params.length-1]=s,e.method.apply(e.object,e.params)):(o[++n]=e.method.apply(e.object,e.params),c())},s=function(){o[++n]=Array.prototype.slice.call(arguments),"function"==typeof r&&r.apply(this,arguments),c()};e.getResult=function(e){return o[e]?o[e]:null},e.getResults=function(){return o}}e.exports=o},function(e,n,t){"use strict";function o(){var e=this,n=window.spe?window.spe:window,t=new n.SpaceifyCore,o=new n.ServiceInterface,r=new n.SpaceifyNetwork;e.start=function(e,n,r){try{t.startSpacelet(n,function(n,t){if(n)"function"==typeof e?e(n,!1):e&&e.fail&&e.fail(n);else for(var r=0;r<t.serviceNames.length;r++)o.connect(t.serviceNames[r],r+1!=t.serviceNames.length?null:function(n,t){"function"==typeof e?e(null,!0):e&&e.start&&e.start()})})}catch(n){"function"==typeof e?e(n,!1):e&&e.fail&&e.fail(n)}},e.getRequiredService=function(e,n){return o.getRequiredService(e,n)},e.isSpaceifyNetwork=function(e,n){r.isSpaceifyNetwork(e,n)}}e.exports=o},function(e,n,t){"use strict";function o(e){var n=this,o="undefined"==typeof window,r=null,i=null,c=null,s=null;o?(r="/var/lib/spaceify/code/",i=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),c=t(13)(r+"rpccommunicator"),s=t(15)(r+"websocketconnection")):(r=window.spe?window.spe:window,i=r.SpaceifyLogger,c=r.RpcCommunicator,s=r.WebSocketConnection);var a=new c,u=new s,l=new i("WebRtcClient"),f=null,d=new Object;n.setConnectionListener=function(e){f=e},n.onIceCandidate=function(e,n){l.log("WebRtcClient::onIceCandidate - Got it, sending it to the other client"),a.callRpc("offerIce",[e,n])};var p=function(t){d[t]=new WebRtcConnection(e),d[t].setPartnerId(t),d[t].setIceListener(n),d[t].setStreamListener(n),d[t].setConnectionListener(n),d[t].setDataChannelListener(n)};n.shutdown=function(e){l.log("WebRtcClient::onbeforeunload");for(var n in d)d.hasOwnProperty(n)&&(d[n].close(),delete d[n])},n.handleRtcOffer=function(e,n,t){l.log("WebRtcClient::handleRtcOffer descriptor:",e),d.hasOwnProperty(n)||p(n),d[n].onConnectionOfferReceived(e,t,function(e){l.log("WebRtcClient::handleRtcOffer - onConnectionOfferReceived returned"),a.callRpc("acceptConnectionOffer",[e,n])})},n.handleRtcAnswer=function(e,n,t){l.log("WebRtcClient::handleRtcAnswer"),d[n].onConnectionAnswerReceived(e)},n.handleIceCandidate=function(e,n,t){l.log("WebRtcClient::handleIceCandidate"),d.hasOwnProperty(n)||p(n),d[n].onIceCandidateReceived(e)};var g=function(e,n){l.log("WebRtcClient::connectToCoordinator","> Websocket connecting to the coordinator"),u.connect(e,function(){l.log("WebRtcClient::connectToCoordinator - Websocket Connected to the Coordinator"),l.log("> Creating RPCCommunicator for the Websocket"),a.addConnection(u),n()})};n.onDisconnected=function(e){if(l.log("WebRtcClient::onDisconnected"),d.hasOwnProperty(e)){var n=d[e];f.onDisconnected(n.getId()),n.close(),delete d[e]}},n.onDataChannelOpen=function(e){l.log("WebRtcClient::onDataChannelOpen"),f.addConnection(e)},n.onStream=function(e,n){l.log("WebRtcClient::onStream")},n.onRemoveStream=function(e,t){l.log("WebRtcClient::onRemoveStream"),n.onDisconnected(t)};var y=function(e,t){l.log("WebRtcClient::connectToPeers - Announcing to the Coordinator"),a.callRpc("announce",[e],n,n.onPeerIdsArrived)};n.onPeerIdsArrived=function(e,n,t){l.log("WebRtcClient::onPeerIdsArrived - data.length:",n.length);for(var o=0,r=0;r<n.length;r++)o=n[r],p(o),l.log("WebRtcClient::onPeerIdsArrived - Trying to create offer to client id",o),d[o].createConnectionOffer(function(e,n){l.log("WebRtcClient::onPeerIdsArrived - Offer created, sending it to the other client",n),a.callRpc("offerConnection",[e,n])});0===n.length&&l.log("> Announce returned 0 client ids, not connecting")},n.run=function(e,t){l.log("WebRtcClient::run"),window.onbeforeunload=n.shutdown,a.exposeRpcMethod("handleRtcOffer",n,n.handleRtcOffer),a.exposeRpcMethod("handleRtcAnswer",n,n.handleRtcAnswer),a.exposeRpcMethod("handleIceCandidate",n,n.handleIceCandidate),g(e,function(){l.log("WebRtcClient::run - Connected to the coordinator"),y(e.announceId,function(){l.log("WebRtcClient::run - connectToPeers returned")}),t&&t(a)})}}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.exports=o},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n,t){"use strict";var o={logger:{loggerConfigOverride:{all:!0},defaultLoggerConfig:{log:!0,dir:!0,info:!0,error:!0,warn:!0,all:null,mydefault1:1,mydefault2:2}},testValue:"TestValueFromSplConfig"};Object.freeze(o),e.exports=o},function(e,n,t){e.exports=function(){var e=this;e.make=function(){var e=t(3),n=e.getConfig();return"(function spaceifyConfig(){window.speconfig="+n.toMinifiedJSONString()+";})();\n"}}},function(e,n,t){"use strict";(function(e){var n=t(0),o=t(49),r=(new o).make();n.writeFileSync(e+"/../../libs/spaceify.config.js",r,"utf8")}).call(n,"/")},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./config.js":4,"./spaceifyconfig.js":3,"./spebaseconfig.js":8,"./speconfig.js":48,"./webpack/make.config.js":50};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=51},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifylanguage":20};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=52},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./logger":5,"./spaceifylogger":7};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=53},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./service":16};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=54},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./serviceinterface":17};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=55},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./serviceselector":18};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=56},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./spaceifynetwork":21};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=57},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=58},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./webjsonrpc/websocketrpcserver":28};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=59},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./callbackbuffer":24};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=60},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=61},function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=62},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./websocketrpcconnection":10};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=63},function(e,n,t){function o(e){return t(r(e))}function r(e){var n=i[e];if(!(n+1))throw new Error("Cannot find module '"+e+"'.");return n}var i={"./websocketserver":29};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=64},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_65__},function(e,n){e.exports=require("child_process")},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_67__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_68__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_69__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_70__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_71__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_72__},function(e,n){e.exports=__WEBPACK_EXTERNAL_MODULE_73__},function(e,n,t){e.exports={Config:t(4),SpeBaseConfig:t(8),Logger:t(5),SpaceifyError:t(6),SpaceifyLogger:t(7),SpaceifyDOM:t(41),SpaceifyLanguage:t(20),Service:t(16),SpaceifyApplication:t(38),SpaceifyApplicationManager:t(39),SpaceifyCache:t(40),SpaceifyConfig:t(3),SpaceifyCore:t(19),SpaceifyMessages:t(42),SpaceifyNet:t(43),SpaceifyNetwork:t(21),ServiceInterface:t(17),ServiceSelector:t(18),SpaceifySynchronous:t(44),SpaceifyUnique:t(22),SpaceifyUtility:t(23),Spacelet:t(45),CallbackBuffer:t(24),RpcCommunicator:t(26),WebRtcClient:t(46),WebRtcConnection:t(27),WebSocketConnection:t(9),WebSocketRpcConnection:t(10),WebSocketRpcServer:t(28),WebSocketServer:t(29),Connection:t(25)}}])});
(function spaceifyConfig(){window.speconfig={"SPACEIFY_PATH":"/var/lib/spaceify/","SPACEIFY_CODE_PATH":"/var/lib/spaceify/code/","SPACEIFY_DATA_PATH":"/var/lib/spaceify/data/","SPACEIFY_WWW_PATH":"/var/lib/spaceify/code/www/","SPACEIFY_NODE_MODULES_PATH":"/var/lib/spaceify/code/node_modules/","SPACEIFY_WWW_ERRORS_PATH":"/var/lib/spaceify/code/www/errors/","SPACEIFY_TLS_PATH":"/var/lib/spaceify/data/tls/","SPACEIFY_DATABASE_FILE":"/var/lib/spaceify/data/db/spaceify.db","SPACEIFY_TEMP_SESSIONID":"/var/lib/spaceify/data/db/session.id","SPACEIFY_REGISTRATION_FILE":"/var/lib/spaceify/data/db/edge.id","SPACEIFY_REGISTRATION_FILE_TMP":"/tmp/edge.id","SPACEIFY_MANIFEST_RULES_FILE":"/var/lib/spaceify/data/manifest/manifest.rules","SPACELETS_PATH":"/var/lib/spaceify/data/spacelets/","SANDBOXED_PATH":"/var/lib/spaceify/data/sandboxed/","SANDBOXED_DEBIAN_PATH":"/var/lib/spaceify/data/sandboxed_debian/","NATIVE_DEBIAN_PATH":"/var/lib/spaceify/data/native_debian/","INSTALLED_PATH":"/var/lib/spaceify/data/installed/","DOCS_PATH":"/var/lib/spaceify/data/docs/","VERSION_FILE":"/var/lib/spaceify/versions","WWW_DIRECTORY":"www/","API_PATH":"/api/","API_WWW_PATH":"/var/lib/spaceify/code/www/","API_NODE_MODULES_DIRECTORY":"/var/lib/spaceify/code/node_modules/","APPLICATION_ROOT":"application","APPLICATION_PATH":"/application/","APPLICATION_DIRECTORY":"application/","VOLUME_PATH":"/volume/","VOLUME_DIRECTORY":"volume/","VOLUME_APPLICATION_PATH":"/volume/application/","VOLUME_APPLICATION_WWW_PATH":"/volume/application/www/","VOLUME_TLS_PATH":"/volume/tls/","SYSTEMD_PATH":"/lib/systemd/system/","START_SH_FILE":"application/start.sh","WORK_PATH":"/tmp/package/","PACKAGE_PATH":"package/","SOURCES_DIRECTORY":"sources/","LOCALES_PATH":"/var/lib/spaceify/code/www/locales/","DEFAULT_LOCALE":"en_US","SPACEIFY_INJECT":"/var/lib/spaceify/code/www/lib/inject/spaceify.csv","LEASES_PATH":"/var/lib/spaceify/data/dhcp-data","IPTABLES_PATH":"/var/lib/spaceify/data/ipt-data","IPTABLES_PIPER":"/var/lib/spaceify/data/dev/iptpiper","IPTABLES_PIPEW":"/var/lib/spaceify/data/dev/iptpipew","TLS_DIRECTORY":"tls/","TLS_SCRIPTS_PATH":"/var/lib/spaceify/data/scripts/","UBUNTU_DISTRO_NAME":"ubuntu","RASPBIAN_DISTRO_NAME":"raspbian","UBUNTU_DOCKER_IMAGE":"spaceifyubuntu","RASPBIAN_DOCKER_IMAGE":"spaceifyraspbian","CUSTOM_DOCKER_IMAGE":"custom_","EDGE_IP":"10.0.0.1","EDGE_HOSTNAME":"edge.spaceify.net","EDGE_DOMAIN":"spaceify.net","EDGE_SHORT_HOSTNAME":"e.n","EDGE_SUBNET":"10.0.0.0/16","ALL_IPV4_LOCAL":"0.0.0.0","CONNECTION_HOSTNAME":"localhost","APPLICATION_SUBNET":"172.17.0.0/16","EDGE_PORT_HTTP":"80","EDGE_PORT_HTTPS":"443","APLICATION_PORT_HTTP":"80","APLICATION_PORT_HTTPS":"443","CORE_PORT":"2947","CORE_PORT_SECURE":"4947","APPMAN_PORT":"2948","APPMAN_PORT_SECURE":"4948","APPMAN_MESSAGE_PORT":"2950","APPMAN_MESSAGE_PORT_SECURE":"4950","REGISTRY_HOSTNAME":"spaceify.org","REGISTRY_URL":"https://spaceify.org","REGISTRY_PUBLISH_URL":"https://spaceify.org/ajax/upload.php?type=package&fileid=package","REGISTRY_INSTALL_URL":"https://spaceify.org/install.php","EDGE_APPSTORE_GET_PACKAGES_URL":"https://spaceify.org/appstore/getpackages.php","EDGE_REGISTER_URL":"https://spaceify.net/edge/register.php","EDGE_LOGIN_URL":"https://spaceify.net/edge/login.php","EDGE_GET_RESOURCE_URL":"https://spaceify.org/appstore/getresource.php?resource=","GITHUB_HOSTNAME":"github.com","MAC_REGX":"^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$","IP_REGX":"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$","JAVASCRIPT":"javascript","CSS":"css","FILE":"file","UTF8":"utf","ASCII":"ascii","BASE64":"base64","ANY":"any","ALL":"all","SPACELET":"spacelet","SANDBOXED":"sandboxed","SANDBOXED_DEBIAN":"sandboxed_debian","NATIVE_DEBIAN":"native_debian","OPEN":"open","OPEN_LOCAL":"open_local","STANDARD":"standard","ALIEN":"alien","HTTP":"http","EXT_COMPRESSED":".zip","PACKAGE_DELIMITER":"@","PX":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","MANIFEST":"spaceify.manifest","README_MD":"readme.md","PACKAGE_ZIP":"package.zip","PUBLISH_ZIP":"publish.zip","SPM_ERRORS_JSON":"spm_errors.json","SPM_HELP":"spm.help","DOCKERFILE":"Dockerfile","MANIFEST_RULES":"manifest.rules","VERSIONS":"versions","APPSTORE":"appstore/","INDEX_FILE":"index.html","LOGIN_FILE":"login.html","SECURITY_FILE":"security.html","OPERATION_FILE":"operation.xop","LOCATION_FILE":"location.conf","SERVER_NAME":"Spaceify Web Server","TILEFILE":"tile.html","WEB_SERVER":"WEB_SERVER","APPLICATION_INITIALIZED":"*** application initialized","APPLICATION_UNINITIALIZED":"*** application uninitialized","IMAGE_DIRECTORY":"www/images/","FIRST_SERVICE_PORT":"2777","FIRST_SERVICE_PORT_SECURE":"3777","SERVER_CRT":"server.crt","SERVER_KEY":"server.key","SPACEIFY_CRT":"spaceify.crt","SPACEIFY_CRT_WWW":"www/spaceify.crt","RECONNECT_WAIT":"10000","SESSION_COOKIE_PUBSUB_PATH":"/var/lib/spaceify/data/db/session_cookies.pub","SPACEIFY_REPOSITORY":"deb [ arch=all,amd64,i386 ] http://spaceify.net/repo stable/spaceify main","SPACEIFY_APPLICATION_REPOSITORY_LIST":"/etc/apt/sources.list.d/spaceifyapplication.list","EVENT_SPACELET_INSTALLED":"spaceletInstalled","EVENT_SPACELET_REMOVED":"spaceletRemoved","EVENT_SPACELET_STARTED":"spaceletStarted","EVENT_SPACELET_STOPPED":"spaceletStopped","EVENT_SANDBOXED_INSTALLED":"sandboxedInstalled","EVENT_SANDBOXED_REMOVED":"sandboxedRemoved","EVENT_SANDBOXED_STARTED":"sandboxedStarted","EVENT_SANDBOXED_STOPPED":"sandboxedStopped","EVENT_SANDBOXED_DEBIAN_INSTALLED":"sandboxedDebianInstalled","EVENT_SANDBOXED_DEBIAN_REMOVED":"sandboxedDebianRemoved","EVENT_SANDBOXED_DEBIAN_STARTED":"sandboxedDebianStarted","EVENT_SANDBOXED_DEBIAN_STOPPED":"sandboxedDebianStopped","EVENT_NATIVE_DEBIAN_INSTALLED":"nativeDebianInstalled","EVENT_NATIVE_DEBIAN_REMOVED":"nativeDebianRemoved","EVENT_NATIVE_DEBIAN_STARTED":"nativeDebianStarted","EVENT_NATIVE_DEBIAN_STOPPED":"nativeDebianStopped","EVENT_EDGE_SETTINGS_CHANGED":"EdgeSettingsChanged","EVENT_CORE_SETTINGS_CHANGED":"CoreSettingsChanged","SESSION_TOKEN_NAME":"x-edge-session","SESSION_TOKEN_NAME_COOKIE":"xedgesession","WWW_CACHE_MAX_ITEMS":"40","WWW_CACHE_EXPIRE_TIME":"20"};})();

(function spaceifyClasses(){
window.Logger = spe.Logger;
window.SpaceifyLanguage = spe.SpaceifyLanguage;
window.SpaceifyDOM = spe.SpaceifyDOM;
window.Service = spe.Service;
window.SpaceifyApplication = spe.SpaceifyApplication;
window.SpaceifyApplicationManager = spe.SpaceifyApplicationManager;
window.SpaceifyCache = spe.SpaceifyCache;
window.SpaceifyConfig = spe.SpaceifyConfig;
window.SpaceifyCore = spe.SpaceifyCore;
window.SpaceifyError = spe.SpaceifyError;
window.SpaceifyMessages = spe.SpaceifyMessages;
window.SpaceifyNet = spe.SpaceifyNet;
window.SpaceifyNetwork = spe.SpaceifyNetwork;
window.ServiceInterface = spe.ServiceInterface;
window.ServiceSelector = spe.ServiceSelector;
window.SpaceifySynchronous = spe.SpaceifySynchronous;
window.SpaceifyUnique = spe.SpaceifyUnique;
window.SpaceifyUtility = spe.SpaceifyUtility;
window.Spacelet = spe.Spacelet;
//window.BinaryRpcCommunicator = spe.BinaryRpcCommunicator;
window.CallbackBuffer = spe.CallbackBuffer;
window.RpcCommunicator = spe.RpcCommunicator;
window.WebRtcClient = spe.WebRtcClient;
window.WebRtcConnection = spe.WebRtcConnection;
window.WebSocketConnection = spe.WebSocketConnection;
window.WebSocketRpcConnection = spe.WebSocketRpcConnection;
window.WebSocketRpcServer = spe.WebSocketRpcServer;
window.WebSocketServer = spe.WebSocketServer})();
